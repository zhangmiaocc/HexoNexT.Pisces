---
title: Kotlinå…¥é—¨
tags:
  - Android
  - Kotlin
categories:
  - Android
  - Kotlin
abbrlink: 749a22ae
date: 2020-09-26 11:03:51
---



![image-20210116114509401](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c02ae1fd55784c0593e53afa00fd1fec~tplv-k3u1fbpfcp-zoom-1.image)

**æ³¨æ„ï¼š Kotlin ç°ä½œä¸º Android ç¬¬ä¸€å¼€å‘è¯­è¨€ï¼ŒAndroidStudio ä½œä¸º Google çš„äº²å„¿å­ï¼Œå¯¹ Kotlin è¿›è¡Œäº†å®Œç¾çš„æ”¯æŒï¼Œå¼€å‘æç¤ºåº”æœ‰å°½æœ‰ï¼Œå› æ­¤ä¸‹é¢æ‰€æœ‰çš„æ¼”ç¤ºä»£ç éƒ½æ˜¯è·‘åœ¨ AndroidStudio ä¸Šçš„**

<!--more-->

## Kotlin ä»‹ç»

å®˜ç½‘å¯¹ Kotlin çš„ä»‹ç»ï¼šA modern programming languagethat makes developers happier. ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š**Kotlin æ˜¯ä¸€é—¨è®©å¼€å‘è€…æ›´å¼€å¿ƒçš„ç°ä»£ç¨‹åºè®¾è®¡è¯­è¨€ ã€‚** ç”± JetBrains å…¬å¸å¼€å‘å’Œè®¾è®¡ï¼Œå®ƒä¹Ÿæ˜¯ä¸€é—¨åŸºäº JVM çš„é™æ€è¯­è¨€ã€‚

## é—®é¢˜

åœ¨å­¦ä¹  Kotlin çš„æ—¶å€™æˆ‘å¿ƒé‡Œä¼šæœ‰ä¸€äº›ç–‘é—®ğŸ¤”ï¸ ï¼Ÿ

1ã€Android æ“ä½œç³»ç»Ÿæ˜¯ç”± Google å¼€å‘å‡ºæ¥çš„ï¼Œä¸ºå•¥ JetBrains ä½œä¸ºä¸€ä¸ªç¬¬ä¸‰æ–¹å…¬å¸ï¼Œå´èƒ½è®¾è®¡å‡ºä¸€é—¨è¯­è¨€æ¥å¼€å‘ Android åº”ç”¨ç¨‹åºï¼Ÿ

å› ä¸º Java è™šæ‹Ÿæœºï¼ˆAndroid ä¸­å« ARTï¼Œä¸€ç§åŸºäº Java è™šæ‹Ÿæœºä¼˜åŒ–çš„è™šæ‹Ÿæœºï¼‰å¹¶ä¸ç›´æ¥å’Œä½ ç¼–å†™çš„è¿™é—¨è¯­è¨€çš„æºä»£ç æ‰“äº¤é“ï¼Œè€Œæ˜¯å’Œä½ ç¼–è¯‘ä¹‹åçš„ class å­—èŠ‚ç æ–‡ä»¶æ‰“äº¤é“ã€‚åŸºäº JVM çš„è¯­è¨€ï¼Œå¦‚ Kotlinï¼ŒGroovyç­‰ï¼Œå®ƒä»¬éƒ½ä¼šæœ‰å„è‡ªçš„ç¼–è¯‘å™¨ï¼ŒæŠŠæºæ–‡ä»¶ç¼–è¯‘æˆ class å­—èŠ‚ç æ–‡ä»¶ï¼ŒJava è™šæ‹Ÿæœºä¸å…³å¿ƒ class å­—èŠ‚ç æ–‡ä»¶æ˜¯ä»å“ªé‡Œç¼–è¯‘è€Œæ¥ï¼Œåªè¦ç¬¦åˆè§„æ ¼çš„ class å­—èŠ‚ç æ–‡ä»¶ï¼Œå®ƒéƒ½èƒ½è¯†åˆ«ï¼Œæ­£æ˜¯å› ä¸ºè¿™ä¸ªåŸå› ï¼ŒJetBrains æ‰èƒ½ä»¥ä¸€ä¸ªç¬¬ä¸‰æ–¹å…¬å¸è®¾è®¡å‡ºä¸€é—¨æ¥å¼€å‘ Android åº”ç”¨ç¨‹åºçš„ç¼–ç¨‹è¯­è¨€

2ã€ä¸ºå•¥æœ‰äº† Java æ¥å¼€å‘ Android åº”ç”¨ç¨‹åºï¼ŒGoogle è¿˜è¦æ¨èä½¿ç”¨ Kotlin æ¥å¼€å‘ï¼Ÿ

åŸå› æœ‰å¾ˆå¤šï¼Œåˆ—ä¸¾ä¸»è¦çš„å‡ ç‚¹ï¼š

- 1ï¼‰ã€Kotlin è¯­æ³•æ›´åŠ ç®€æ´ï¼Œä½¿ç”¨ Kotlin å¼€å‘çš„ä»£ç é‡å¯èƒ½ä¼šæ¯” Java å¼€å‘çš„å‡å°‘ 50% ç”šè‡³æ›´å¤š
- 2ï¼‰ã€Kotlin çš„è¯­æ³•æ›´åŠ é«˜çº§ï¼Œç›¸æ¯”äº Java è€æ—§çš„è¯­æ³•ï¼ŒKotlin å¢åŠ äº†å¾ˆå¤šç°ä»£é«˜çº§è¯­è¨€çš„è¯­æ³•ç‰¹æ€§ï¼Œå¤§å¤§æå‡äº†æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡
- 3ï¼‰ã€Kotlin å’Œ Java æ˜¯ 100% å…¼å®¹çš„ï¼ŒKotlin å¯ä»¥ç›´æ¥è°ƒç”¨ Java ç¼–å†™çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥æ— ç¼ä½¿ç”¨ Java ç¬¬ä¸‰æ–¹å¼€æºåº“ï¼Œè¿™ä½¿å¾— Kotlin åœ¨åŠ å…¥äº†è¯¸å¤šæ–°ç‰¹æ€§çš„åŒæ—¶ï¼Œè¿˜ç»§æ‰¿äº† Java çš„å…¨éƒ¨è´¢å¯Œ

3ã€ä¸ºå•¥ Kotlin ä¸­è¦æ˜¾ç¤ºçš„å»å£°æ˜ä¸€ä¸ªéæŠ½è±¡ç±»å¯ç»§æ‰¿ï¼Œè€Œä¸åƒ Java é‚£æ ·å®šä¹‰çš„ç±»é»˜è®¤å¯ç»§æ‰¿ï¼Ÿ

å› ä¸ºä¸€ä¸ªç±»é»˜è®¤å¯è¢«ç»§æ‰¿çš„è¯ï¼Œå®ƒæ— æ³•é¢„çŸ¥å­ç±»ä¼šå¦‚ä½•å»å®ç°ï¼Œå› æ­¤å­˜åœ¨ä¸€äº›æœªçŸ¥çš„é£é™©ã€‚ç±»æ¯” val å…³é”®å­—æ˜¯åŒæ ·çš„é“ç†ï¼Œåœ¨ Java ä¸­ï¼Œé™¤éä½ ä¸»åŠ¨ç»™å˜é‡å£°æ˜ final å…³é”®å­—ï¼Œå¦åˆ™è¿™ä¸ªå˜é‡å°±æ˜¯å¯å˜çš„ï¼Œéšç€é¡¹ç›®å¤æ‚åº¦å¢åŠ ï¼Œå¤šäººåä½œå¼€å‘ï¼Œä½ æ°¸è¿œä¸çŸ¥é“ä¸€ä¸ªå¯å˜çš„å˜é‡ä¼šåœ¨ä»€ä¹ˆæ—¶å€™è¢«è°ä¿®æ”¹äº†ï¼Œå³ä½¿å®ƒåŸæœ¬ä¸åº”è¯¥ä¿®æ”¹ï¼Œä¹Ÿå¾ˆéš¾å»æ’æŸ¥é—®é¢˜ã€‚å› æ­¤ Kotlin è¿™æ ·çš„è®¾è®¡æ˜¯ä¸ºäº†è®©ç¨‹åºæ›´åŠ çš„å¥å£®ï¼Œä¹Ÿæ›´ç¬¦åˆé«˜è´¨é‡ç¼–ç çš„è§„èŒƒ

ä¸‹é¢æˆ‘ä»¬å°±æ­£å¼è¿›å…¥åˆ° Kotlin çš„å­¦ä¹ 

## ä¸€ã€å˜é‡å’Œå‡½æ•°

### 1ã€å˜é‡

1ï¼‰ã€ä½¿ç”¨ valï¼ˆvalue çš„ç®€å†™ï¼‰å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªä¸å¯å˜çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯åªè¯»å˜é‡ï¼Œè¿™ç§å˜é‡åˆå§‹èµ‹å€¼åå°±ä¸èƒ½é‡æ–°èµ‹å€¼äº†ï¼Œå¯¹åº” Java ä¸­çš„ final å˜é‡

2ï¼‰ã€ä½¿ç”¨ var ï¼ˆvariable çš„ç®€å†™ï¼‰å…³é”®å­—ç”¨æ¥å£°æ˜ä¸€ä¸ªå¯å˜çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯å¯è¯»å†™å˜é‡ï¼Œè¿™ç§å˜é‡åˆå§‹èµ‹åˆå€¼åä»ç„¶å¯ä»¥é‡æ–°è¢«èµ‹å€¼ï¼Œå¯¹åº” Java ä¸­çš„é final å˜é‡

3ï¼‰ã€Kotlin ä¸­çš„æ¯ä¸€è¡Œä»£ç éƒ½ä¸ç”¨åŠ  ï¼›

```kotlin
//åœ¨ Java ä¸­ï¼Œæˆ‘ä»¬ä¼šè¿™ä¹ˆå®šä¹‰
int a = 10;
boolean b = true

//åœ¨ Kotlin ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå®šä¹‰ï¼Œå½“ç»™å˜é‡èµ‹å€¼åï¼ŒKotlin ç¼–è¯‘å™¨ä¼šè¿›è¡Œç±»å‹æ¨å¯¼
//å®šä¹‰ä¸€ä¸ªä¸å¯å˜çš„å˜é‡ a 
val a = 10
//å®šä¹‰ä¸€ä¸ªå¯å˜çš„å˜é‡ b
var b = true

//å¦‚æœæˆ‘ä»¬æ˜¾ç¤ºçš„ç»™å˜é‡æŒ‡å®šç±»å‹ï¼ŒKotlin å°±ä¸ä¼šè¿›è¡Œç±»å‹æ¨å¯¼äº†
val a: Int = 10
var b: Boolean = "erdai"
```

å¦‚æœä½ è§‚å¯Ÿçš„ä»”ç»†ä¼šå‘ç°ï¼Œä¸Šè¿°ä»£ç  Kotlin å®šä¹‰å˜é‡ç»™å˜é‡æ˜¾ç¤ºçš„æŒ‡å®šç±»å‹æ—¶ï¼Œä½¿ç”¨çš„éƒ½æ˜¯é¦–å­—æ¯å¤§å°çš„ Intï¼ŒBooleanï¼Œè€Œåœ¨ Java ä¸­éƒ½æ˜¯å°å†™çš„ intï¼Œbooleanï¼Œè¿™è¡¨æ˜ï¼š **Kotlin å®Œå…¨æŠ›å¼ƒäº† Java ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå…¨éƒ¨éƒ½æ˜¯å¯¹è±¡æ•°æ®ç±»å‹ã€‚** ä¸‹é¢ç»™å‡ºä¸€ä¸ª Java å’Œ Kotlin æ•°æ®ç±»å‹å¯¹ç…§è¡¨ï¼š

| Java åŸºæœ¬æ•°æ®ç±»å‹ | Kotlin å¯¹è±¡æ•°æ®ç±»å‹ | æ•°æ®ç±»å‹è¯´æ˜ |
| ----------------- | ------------------- | ------------ |
| byte              | Byte                | å­—èŠ‚å‹       |
| short             | Short               | çŸ­æ•´å‹       |
| int               | Int                 | æ•´å‹         |
| long              | Long                | é•¿æ•´å‹       |
| float             | Float               | å•ç²¾åº¦æµ®ç‚¹æ•° |
| double            | Double              | åŒç²¾åº¦æµ®ç‚¹æ•° |
| char              | Char                | å­—ç¬¦å‹       |
| boolean           | Boolean             | å¸ƒå°”å‹       |

### 2ã€å¸¸é‡

Kotlin ä¸­å®šä¹‰ä¸€ä¸ªå¸¸é‡éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶

1ï¼‰ã€ä½¿ç”¨ const val æ¥ä¿®é¥°ï¼Œå¹¶åˆå§‹åŒ–

2ï¼‰ã€ä¿®é¥°çš„ç±»å‹åªèƒ½æ˜¯å­—ç¬¦ä¸²å’ŒåŸºç¡€å¯¹è±¡ç±»å‹

3ï¼‰ã€åªèƒ½ä¿®é¥°é¡¶å±‚çš„å¸¸é‡ï¼Œobject ä¿®é¥°çš„æˆå‘˜ï¼Œcompanion object çš„æˆå‘˜ï¼Œè¿™äº›æ¦‚å¿µåé¢è¿˜ä¼šè®²åˆ°

```kotlin
//å®šä¹‰ä¸€ä¸ªé¡¶å±‚çš„å¸¸é‡ï¼Œè¿™ä¸ªå¸¸é‡ä¸æ”¾åœ¨ä»»ä½•çš„ç±»ä¸­
const val CONSTANT = "This is a constant"

//å®šä¹‰ä¸€ä¸ª object ä¿®é¥°çš„å•ä¾‹ç±»ï¼Œç±»ä¸­å®šä¹‰ä¸€ä¸ªå¸¸é‡
object SingeTon {
    const val CONSTANT = "This is a constant"
}

class KotlinPractice {
    //å®šä¹‰ä¸€ä¸ª companion object ä¿®é¥°çš„ä¼´ç”Ÿå¯¹è±¡ï¼Œé‡Œé¢å®šä¹‰ä¸€ä¸ªå¸¸é‡
    companion object{
        const val CONSTANT = "This is a constant"
    }
}
```

### 3ã€å‡½æ•°

1ï¼‰ã€å‡½æ•°å’Œæ–¹æ³•æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼Œåœ¨ Java ä¸­æˆ‘ä»¬ä¹ æƒ¯å«æ–¹æ³• (method)ï¼Œä½†æ˜¯ Kotlin ä¸­å°±éœ€è¦å«å‡½æ•° (function)

2ï¼‰ã€å‡½æ•°æ˜¯è¿è¡Œä»£ç çš„è½½ä½“,åƒæˆ‘ä»¬ä½¿ç”¨è¿‡çš„ main å‡½æ•°å°±æ˜¯ä¸€ä¸ªå‡½æ•°

Kotlin ä¸­å®šä¹‰è¯­æ³•çš„è§„åˆ™ï¼š

```kotlin
fun methodName(param1: Int, param2: Int): Int {
    return 0
}

//ä¸‹é¢è¿™ä¸¤ä¸ªæ–¹æ³•æ•ˆæœæ˜¯ä¸€æ ·çš„
fun methodName1(params: Int,params2: Int): Unit{

}

fun methodName1(params: Int,params2: Int){

}
```

ä¸Šè¿°å‡½æ•°è¯­æ³•è§£é‡Šï¼š

- fun ( function çš„ç¼©å†™ ) æ˜¯å®šä¹‰ä¸€ä¸ªå‡½æ•°çš„å…³é”®å­—ï¼Œæ— è®ºä½ å®šä¹‰ä»€ä¹ˆå‡½æ•°ï¼Œéƒ½è¦ç”¨ fun æ¥å£°æ˜
- å‡½æ•°åç§°å¯ä»¥éšä¾¿å–ï¼Œå°±åƒ Java é‡Œé¢å®šä¹‰å‡½æ•°åä¸€æ ·
- å‡½æ•°åé‡Œé¢çš„å‚æ•°å¯ä»¥æœ‰ä»»æ„å¤šä¸ªï¼Œå‚æ•°çš„å£°æ˜æ ¼å¼ä¸ºï¼š"å‚æ•°å"ï¼š"å‚æ•°ç±»å‹"
- å‚æ•°ååé¢è¿™éƒ¨åˆ†ä»£è¡¨è¿”å›å€¼ï¼Œæˆ‘ä»¬è¿™è¿”å›çš„æ˜¯ä¸€ä¸ª Int ç±»å‹çš„å€¼ï¼Œè¿™éƒ¨åˆ†æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸å®šä¹‰ï¼Œé»˜è®¤è¿”å›å€¼ä¸º Unitï¼Œä¸” Unit å¯çœç•¥

å®è·µä¸€ä¸‹ï¼š

```kotlin
fun main() {
    val number1 = 15
    val number2 = 20
    val maxNumber = largeNumber(number1,number2)
    println(maxNumber)
}

fun largeNumber(number1: Int,number2: Int) : Int{
    //è°ƒç”¨é¡¶å±‚ max å‡½æ•°è®¡ç®—ä¸¤è€…ä¸­çš„æœ€å¤§å€¼
    return max(number1,number2)
}

//æ‰“å°ç»“æœ
20
```

**Kotlin è¯­æ³•ç³–ï¼šå½“ä¸€ä¸ªå‡½æ•°ä½“ä¸­åªæœ‰ä¸€è¡Œä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç¼–å†™å‡½æ•°ä½“ï¼Œå¯ä»¥å°†å”¯ä¸€çš„ä¸€è¡Œä»£ç å†™åœ¨å‡½æ•°å®šä¹‰çš„å°¾éƒ¨ï¼Œä¸­é—´ç”¨ = è¿æ¥å³å¯**

é‚£ä¹ˆä¸Šè¿° largeNumber è¿™ä¸ªå‡½æ•°æˆ‘ä»¬æ”¹é€ ä¸€ä¸‹ï¼š

```kotlin
//æ ¹æ®ä¸Šè¿°è¯­æ³•ç³–ï¼Œæˆ‘ä»¬çœç•¥äº†å‡½æ•°ä½“çš„ {} å’Œ return å…³é”®å­—ï¼Œå¢å‡çš„ = è¿æ¥
fun largeNumber(number1: Int,number2: Int) : Int = max(number1,number2)
//æ ¹æ® Kotlin ç±»å‹æ¨å¯¼æœºåˆ¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠå‡½æ•°çš„è¿”å›å€¼ç»™çœç•¥ï¼Œæœ€ç»ˆå˜æˆäº†è¿™æ ·
fun largeNumber(number1: Int,number2: Int) = max(number1,number2)
```

## äºŒã€ç¨‹åºçš„é€»è¾‘æ§åˆ¶

### 1ã€if æ¡ä»¶è¯­å¥

1ï¼‰ã€Kotlin ä¸­çš„ if æ¡ä»¶è¯­å¥é™¤äº†ç»§æ‰¿äº† Java ä¸­ if æ¡ä»¶è¯­å¥çš„æ‰€æœ‰ç‰¹æ€§ï¼Œä¸”å¯ä»¥æŠŠæ¯ä¸€ä¸ªæ¡ä»¶ä¸­çš„æœ€åä¸€è¡Œä»£ç ä½œä¸ºè¿”å›å€¼

æˆ‘ä»¬æ”¹é€ ä¸€ä¸‹ä¸Šè¿° largeNumber å‡½æ•°çš„å†…éƒ¨å®ç°ï¼š

```kotlin
//Kotlin ä¸­æŠŠæ¯ä¸€ä¸ªæ¡ä»¶ä¸­çš„æœ€åä¸€è¡Œä»£ç ä½œä¸ºè¿”å›å€¼
fun largeNumber(number1: Int,number2: Int) : Int{
    return if(number1 > number2){
      	number1
    }else {
      	number2
    }
}

//æ ¹æ®ä¸Šé¢å­¦ä¹ çš„è¯­æ³•ç³–å’Œ Kotlin ç±»å‹æ¨å¯¼æœºåˆ¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç®€å†™ largeNumber å‡½æ•°ï¼Œæœ€ç»ˆå˜æˆäº†è¿™æ ·
fun largeNumber(number1: Int,number2: Int) = if(number1 > number2) number1 else number 2
```

### 2ã€when æ¡ä»¶è¯­å¥

ç±»æ¯” Java ä¸­çš„ Switch è¯­å¥å­¦ä¹ ï¼ŒJava ä¸­çš„ Switch å¹¶ä¸æ€ä¹ˆå¥½ç”¨ï¼š

1ï¼‰ã€Switch è¯­å¥åªèƒ½æ”¯æŒä¸€äº›ç‰¹å®šçš„ç±»å‹ï¼Œå¦‚æ•´å‹ï¼ŒçŸ­äºæ•´å‹ï¼Œå­—ç¬¦ä¸²ï¼Œæšä¸¾ç±»å‹ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„å¹¶éè¿™å‡ ç§ç±»å‹ï¼ŒSwitch å¹¶ä¸å¯ç”¨

2ï¼‰ã€Switch è¯­å¥çš„ case æ¡ä»¶éƒ½è¦åœ¨æœ€ååŠ ä¸Šä¸€ä¸ª break

è¿™äº›é—®é¢˜åœ¨ Kotlin ä¸­éƒ½å¾—åˆ°äº†è§£å†³ï¼Œè€Œä¸” Kotlin è¿˜åŠ å…¥äº†è®¸å¤šå¼ºå¤§çš„æ–°ç‰¹æ€§ï¼š

1ï¼‰ã€when æ¡ä»¶è¯­å¥ä¹Ÿæ˜¯æœ‰è¿”å›å€¼çš„ï¼Œå’Œ if æ¡ä»¶è¯­å¥ç±»ä¼¼ï¼Œæ¡ä»¶ä¸­çš„æœ€åä¸€è¡Œä»£ç ä½œä¸ºè¿”å›å€¼

2ï¼‰ã€when æ¡ä»¶è¯­å¥å…è®¸ä¼ å…¥ä»»æ„ç±»å‹çš„å‚æ•°

3ï¼‰ã€when æ¡ä»¶ä½“ä¸­æ¡ä»¶æ ¼å¼ï¼šåŒ¹é…å€¼ -> { æ‰§è¡Œé€»è¾‘ }

4ï¼‰ã€when æ¡ä»¶è¯­å¥å’Œ if æ¡ä»¶è¯­å¥ä¸€æ ·ï¼Œå½“æ¡ä»¶ä½“é‡Œé¢åªæœ‰ä¸€è¡Œä»£ç çš„æ—¶å€™ï¼Œæ¡ä»¶ä½“çš„ {} å¯çœç•¥

```kotlin
//when ä¸­æœ‰å‚æ•°çš„æƒ…å†µ
fun getScore(name: String) = when (name) {
    "tom" -> 99
    "jim" -> 80
    "lucy" -> 70
    else -> 0
}

//when ä¸­æ— å‚æ•°çš„æƒ…å†µï¼ŒKotin ä¸­åˆ¤æ–­å­—ç¬¦ä¸²æˆ–è€…å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œç›´æ¥ä½¿ç”¨ == æ“ä½œç¬¦å³å¯
fun getScore(name: String) = when {
    name == "tom" -> 99
    name == "jim" -> 80
    name =="lucy" -> 70
    else -> 0
}
```

### 3ã€å¾ªç¯è¯­å¥

ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§å¾ªç¯ï¼š

1ï¼‰ã€while å¾ªç¯ï¼Œè¿™ç§å¾ªç¯å’Œ Java æ²¡æœ‰ä»»ä½•åŒºåˆ«

2ï¼‰ã€for å¾ªç¯ï¼ŒJava ä¸­å¸¸ç”¨çš„å¾ªç¯æœ‰ï¼šfor-iï¼Œfor-eachï¼ŒKotlin ä¸­ä¸»è¦æ˜¯ï¼šfor-in

**åŒºé—´**

1ï¼‰ã€ä½¿ç”¨ .. è¡¨ç¤ºåˆ›å»ºä¸¤ç«¯éƒ½æ˜¯é—­åŒºé—´çš„å‡åºåŒºé—´

2ï¼‰ã€ä½¿ç”¨ until è¡¨ç¤ºåˆ›å»ºå·¦ç«¯æ˜¯é—­åŒºé—´å³ç«¯æ˜¯å¼€åŒºé—´çš„å‡åºåŒºé—´

3ï¼‰ã€ä½¿ç”¨ downTo è¡¨ç¤ºåˆ›å»ºä¸¤ç«¯éƒ½æ˜¯é—­åŒºé—´çš„é™åºåŒºé—´

4ï¼‰ã€åœ¨åŒºé—´çš„åé¢åŠ ä¸Š step ï¼Œè¡¨ç¤ºè·³è¿‡å‡ ä¸ªå…ƒç´ 

```kotlin
//æ³¨æ„: Kotlin ä¸­å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å†…åµŒè¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯åœ¨å­—ç¬¦ä¸²ä¸­å¯ä»¥å¼•ç”¨å˜é‡ï¼Œåç»­è¿˜ä¼šè®²åˆ°
//æƒ…å†µ1
fun main() {
    //ä½¿ç”¨ .. è¡¨ç¤ºåˆ›å»ºä¸¤ç«¯éƒ½æ˜¯é—­åŒºé—´çš„å‡åºåŒºé—´
    for (i in 0..10){
        print("$i ")
    }
}
//æ‰“å°ç»“æœ
0 1 2 3 4 5 6 7 8 9 10

//æƒ…å†µ2
fun main() {
    //ä½¿ç”¨ until è¡¨ç¤ºåˆ›å»ºå·¦ç«¯æ˜¯é—­åŒºé—´å³ç«¯æ˜¯å¼€åŒºé—´çš„å‡åºåŒºé—´
    for (i in 0 until 10){
        print("$i ")
    }
}
//æ‰“å°ç»“æœ
0 1 2 3 4 5 6 7 8 9

//æƒ…å†µ3
fun main() {
    //ä½¿ç”¨ downTo è¡¨ç¤ºåˆ›å»ºä¸¤ç«¯éƒ½æ˜¯é—­åŒºé—´çš„é™åºåŒºé—´
    for (i in 10 downTo 0){
        print("$i ")
    }
}
//æ‰“å°ç»“æœ
10 9 8 7 6 5 4 3 2 1 0

//æƒ…å†µ4
fun main() {
    //ä½¿ç”¨ downTo è¡¨ç¤ºåˆ›å»ºä¸¤ç«¯éƒ½æ˜¯é—­åŒºé—´çš„é™åºåŒºé—´,æ¯æ¬¡åœ¨è·³è¿‡3ä¸ªå…ƒç´ 
    for (i in 10 downTo 0 step 3){
        print("$i ")
    }
}
//æ‰“å°ç»“æœ
10 7 4 1 
```

## ä¸‰ã€é¢å‘å¯¹è±¡ç¼–ç¨‹

å¯¹äºé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç†è§£ï¼šé¢å‘å¯¹è±¡çš„è¯­è¨€æ˜¯å¯ä»¥åˆ›å»ºç±»çš„ï¼Œç±»æ˜¯å¯¹äº‹ç‰©ä¸€ç§çš„å°è£…ï¼Œä¾‹å¦‚äººï¼Œæ±½è½¦æˆ‘ä»¬éƒ½å¯ä»¥æŠŠä»–ä»¬å°è£…æˆç±»ï¼Œç±»åé€šå¸¸æ˜¯åè¯ï¼Œç±»ä¸­æœ‰è‡ªå·±çš„å­—æ®µå’Œå‡½æ•°ï¼Œå­—æ®µè¡¨ç¤ºè¯¥ç±»æ‹¥æœ‰çš„å±æ€§ï¼Œé€šå¸¸ä¹Ÿæ˜¯åè¯ï¼Œå°±åƒäººå¯ä»¥æ‹¥æœ‰å§“åå’Œå¹´é¾„ï¼Œæ±½è½¦å¯ä»¥æ‹¥æœ‰å“ç‰Œå’Œä»·æ ¼ï¼Œå‡½æ•°è¡¨ç¤ºè¯¥ç±»æ‹¥æœ‰é‚£äº›è¡Œä¸ºï¼Œä¸€èˆ¬ä¸ºåŠ¨è¯ï¼Œå°±åƒäººéœ€è¦åƒé¥­ç¡è§‰ï¼Œæ±½è½¦å¯ä»¥é©¾é©¶å’Œä¿å…»ï¼Œé€šè¿‡è¿™ç§ç±»çš„å°è£…ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨é€‚å½“çš„åœ°æ–¹åˆ›å»ºè¿™äº›ç±»ï¼Œç„¶åè°ƒç”¨ä»–ä»¬çš„å­—æ®µå’Œå‡½æ•°æ¥æ»¡è¶³å®é™…çš„ç¼–ç¨‹éœ€æ±‚ï¼Œè¿™å°±æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹æœ€åŸºæœ¬çš„æ€æƒ³

### 1ã€ç±»ä¸å¯¹è±¡

æˆ‘ä»¬ä½¿ç”¨ AndroidStudio åˆ›å»ºä¸€ä¸ª Person ç±»ï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­è¾“å…¥ Person ï¼Œé€‰æ‹©Classï¼Œå¯¹è¯æ¡†é»˜è®¤æƒ…å†µä¸‹è‡ªåŠ¨é€‰ä¸­çš„æ˜¯åˆ›å»ºä¸€ä¸ªFileï¼ŒFile é€šå¸¸æ˜¯ç”¨äºç¼–å†™ Kotlin é¡¶å±‚å‡½æ•°å’Œæ‰©å±•å‡½æ•°ç­‰ï¼Œå¦‚ä¸‹å›¾ï¼š

![image-20210316190225365](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/71d1af4be3224b1c8bc6e8b0264aa18b~tplv-k3u1fbpfcp-zoom-1.image)

1ï¼‰ã€å½“æˆ‘ä»¬åœ¨ç±»ä¸­åˆ›å»ºå±æ€§çš„æ—¶å€™ï¼ŒKotlin ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»º get å’Œ set æ–¹æ³•

2ï¼‰ã€Kotlin ä¸­å®ä¾‹åŒ–å¯¹è±¡å’Œ Java ç±»ä¼¼ï¼Œä½†æ˜¯æŠŠ new å…³é”®å­—ç»™å»æ‰äº†

3ï¼‰ã€ä¸€èˆ¬åœ¨ç±»ä¸­ï¼Œæˆ‘ä»¬ä¼šç”¨ var å…³é”®å­—å»å®šä¹‰ä¸€ä¸ªå±æ€§ï¼Œå› ä¸ºå±æ€§ä¸€èˆ¬æ˜¯å¯å˜çš„ï¼Œå¦‚æœä½ ç¡®å®šæŸä¸ªå±æ€§ä¸éœ€è¦æ”¹å˜ï¼Œåˆ™ç”¨ val

```kotlin
class Person {
    var name = ""
    var age = 0

    fun sleep(){
        println("$name is sleep, He is $age years old.")
    }
}

fun main() {
    val person = Person()
    person.name = "erdai"
    person.age = 20
    person.sleep()
}
//æ‰“å°ç»“æœ
erdai is sleep, He is 20 years old.
```

### 2ã€ç»§æ‰¿ä¸æ„é€ å‡½æ•°

#### ç»§æ‰¿

1ï¼‰ã€Kotlin ä¸­è§„å®šï¼Œå¦‚æœè¦å£°æ˜ä¸€ä¸ªéæŠ½è±¡ç±»å¯ç»§æ‰¿ï¼Œå¿…é¡»åŠ ä¸Š open å…³é”®å­—ï¼Œå¦åˆ™ä¸å¯ç»§æ‰¿ï¼Œè¿™ç‚¹å’Œ Java ä¸­ä¸åŒï¼ŒJava ä¸­çš„ç±»é»˜è®¤æ˜¯å¯è¢«ç»§æ‰¿çš„ï¼ŒEffective Java è¿™æœ¬ä¹¦ä¸­æåˆ°ï¼šå¦‚æœä¸€ä¸ªç±»ä¸æ˜¯ä¸“é—¨ä¸ºç»§æ‰¿è€Œè®¾è®¡çš„ï¼Œé‚£ä¹ˆå°±åº”è¯¥ä¸»åŠ¨å°†å®ƒåŠ ä¸Š final å£°æ˜ï¼Œç¦æ­¢ä»–å¯ä»¥è¢«ç»§æ‰¿

2ï¼‰ã€Kotlinä¸­çš„ç»§æ‰¿å’Œå®ç°éƒ½æ˜¯ç”¨ : è¡¨ç¤º

```kotlin
//å£°æ˜ Person ç±»å¯ä»¥è¢«ç»§æ‰¿
open class Person {
    var name = ""
    var age = 0
  
    fun sleep() {
        println("$name is sleep, He is $age years old.")
    }
}

//å®šä¹‰ Student ç»§æ‰¿ Person ç±»
//ä¸ºå•¥ Person åé¢ä¼šæœ‰ä¸€ä¸ªæ‹¬å·å‘¢ï¼Ÿå› ä¸ºå­ç±»çš„æ„é€ å‡½æ•°å¿…é¡»è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°ï¼Œåœ¨ Java ä¸­ï¼Œå­ç±»çš„æ„é€ å‡½æ•°ä¼šéšå¼çš„å»è°ƒç”¨
class Student : Person(){
    
}
```

#### æ„é€ å‡½æ•°

1ï¼‰ã€ä¸»æ„é€ å‡½æ•°çš„ç‰¹ç‚¹æ˜¯æ²¡æœ‰å‡½æ•°ä½“ï¼Œç›´æ¥è·Ÿåœ¨ç±»åçš„åé¢å³å¯ï¼Œå¦‚æœéœ€è¦åœ¨ä¸»æ„é€ å‡½æ•°é‡Œé¢åšé€»è¾‘ï¼Œå¤å†™ init å‡½æ•°å³å¯

2ï¼‰ã€ä¸»æ„é€ å‡½æ•°ä¸­å£°æ˜æˆ val æˆ–è€… var çš„å‚æ•°å°†è‡ªåŠ¨æˆä¸ºè¯¥ç±»çš„å­—æ®µï¼Œå¦‚æœä¸åŠ ï¼Œé‚£ä¹ˆè¯¥å­—æ®µçš„ä½œç”¨åŸŸä»…é™å®šåœ¨ä¸»æ„é€ å‡½æ•°ä¸­

3ï¼‰ã€æ¬¡æ„é€ å‡½æ•°æ˜¯é€šè¿‡ constructor å…³é”®å­—æ¥å®šä¹‰çš„

4ï¼‰ã€å½“ä¸€ä¸ªç±»æ²¡æœ‰æ˜¾ç¤ºçš„å®šä¹‰ä¸»æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å®šä¹‰äº†æ¬¡æ„é€ å‡½æ•°æ—¶ï¼Œé‚£ä¹ˆè¢«ç»§æ‰¿çš„ç±»åé¢ä¸éœ€è¦åŠ  ()

```kotlin
//å®šä¹‰ Student ç±»ï¼Œå®šä¹‰ä¸»æ„é€ å‡½æ•°ï¼Œå®šä¹‰å±æ€§ sno å’Œ grade, ç»§æ‰¿ Person ç±»
class Student(var sno: String, var grade: Int) : Person() {
        //åšä¸€äº›åˆå§‹åŒ–çš„é€»è¾‘
  	init {
        name = "erdai"
        age = 20
    }
    
    //å£°æ˜å¸¦ä¸€ä¸ªå‚æ•°çš„æ¬¡æ„é€ å‡½æ•°
    constructor(sno: String): this(sno,8){

    }

    //å£°æ˜ä¸€ä¸ªæ— å‚çš„æ¬¡æ„é€ å‡½æ•°
    constructor(): this("123",7){

    }

    fun printInfo(){
        println("I am $name, $age yeas old, sno: $sno, grade: $grade")
    }
}

fun main() {
    val student1 = Student()
    val student2 = Student("456")
    val student3 = Student("789",9)
    student1.printInfo()
    student2.printInfo()
    student3.printInfo()
}
//æ‰“å°ç»“æœ
I am erdai, 20 yeas old, sno: 123, grade: 7
I am erdai, 20 yeas old, sno: 456, grade: 8
I am erdai, 20 yeas old, sno: 789, grade: 9

//ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼šå½“ä¸€ä¸ªç±»æ²¡æœ‰æ˜¾ç¤ºçš„å®šä¹‰ä¸»æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å®šä¹‰äº†æ¬¡æ„é€ å‡½æ•°æ—¶ï¼Œé‚£ä¹ˆè¢«ç»§æ‰¿çš„ç±»åé¢ä¸éœ€è¦åŠ  ()
class Student : Person{
    constructor() : super(){
        
    }
}
```

### 3ã€æ¥å£

1ï¼‰ã€Kotlin å’Œ Java ä¸­å®šä¹‰æ¥å£æ²¡æœ‰ä»»ä½•åŒºåˆ«

```kotlin
//å®šä¹‰æ¥å£ä¸­çš„ä¸€ç³»åˆ—çš„æŠ½è±¡è¡Œä¸º Kotlin ä¸­å¢åŠ äº†æ¥å£ä¸­å®šä¹‰çš„å‡½æ•°å¯ä»¥æœ‰é»˜è®¤å®ç°ï¼Œå…¶å® Java åœ¨ JDK1.8 ä¹‹åä¹Ÿå¼€å§‹æ”¯æŒè¿™ä¸ªåŠŸèƒ½
interface Study{
     fun readBooks()
     //å¦‚æœå­ç±»æ²¡æœ‰é‡å†™è¿™ä¸ªæ–¹æ³•,é‚£ä¹ˆå°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„é»˜è®¤å®ç°
     fun doHomework(){
         println("do homework default implementation")
     }
}

//å®šä¹‰ä¸€ä¸ªå¯è¢«ç»§æ‰¿çš„ People ç±»ï¼Œæœ‰ name å’Œ age ä¸¤ä¸ªå±æ€§
open class People(val name: String,val age: Int){

}

//å®šä¹‰ä¸€ä¸ª Student ç±»ï¼Œç»§æ‰¿ People ç±»ï¼Œå®ç° Study æ¥å£
class Student(name: String, age: Int) : People(name, age),Study{
    override fun readBooks() {
        println("$name is read book")
    }
}

//å®šä¹‰çš„ä¸€ä¸ªæ–¹æ³• ç„¶ååœ¨mainå‡½æ•°è°ƒç”¨
fun doStudy(study: Study){
    study.readBooks()
    study.doHomework()
}

//mainå‡½æ•°è°ƒç”¨
fun main(){
    val student = Student("erdai",20)
    //è¿™é‡Œstudentå®ç°äº†Studyæ¥å£,è¿™ç§å«åšé¢å‘æ¥å£ç¼–ç¨‹,ä¹Ÿå¯ä»¥ç§°ä¸ºå¤šæ€
    doStydy(student)
}

//æ‰“å°ç»“æœ
erdai is read book
do homework default implementation

```

### 4ã€å‡½æ•°çš„å¯è§æ€§ä¿®é¥°ç¬¦

| ä¿®é¥°ç¬¦    | Java                         | Kotlin               |
| --------- | ---------------------------- | -------------------- |
| public    | æ‰€æœ‰ç±»å¯è§                   | æ‰€æœ‰ç±»å¯è§(é»˜è®¤)     |
| private   | å½“å‰ç±»å¯è§                   | å½“å‰ç±»å¯è§           |
| protected | å½“å‰ç±»,å­ç±»,åŒä¸€ä¸ªåŒ…ä¸‹çš„å¯è§ | å½“å‰ç±»å’Œå­ç±»å¯è§     |
| default   | åŒä¸€ä¸ªåŒ…ä¸‹çš„å¯è§(é»˜è®¤)       | æ—                    |
| internal  | æ—                            | åŒä¸€ä¸ªæ¨¡å—ä¸­çš„ç±»å¯è§ |

### 5ã€æ•°æ®ç±»ä¸å•ä¾‹ç±»

#### æ•°æ®ç±»

1ï¼‰ã€åœ¨ Java ä¸­ï¼Œæ•°æ®ç±»é€šå¸¸éœ€è¦é‡å†™ equals( )ï¼ŒhashCode( )ï¼ŒtoString( ) è¿™å‡ ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­ equals( ) æ–¹æ³•ç”¨äºåˆ¤æ–­ä¸¤ä¸ªæ•°æ®ç±»æ˜¯å¦ç›¸ç­‰ã€‚hashCode( ) æ–¹æ³•ä½œä¸º equals( ) çš„é…å¥—æ–¹æ³•ï¼Œä¹Ÿéœ€è¦ä¸€èµ·é‡å†™ï¼Œå¦åˆ™ä¼šå¯¼è‡´ hash ç›¸å…³çš„ç³»ç»Ÿç±»æ— æ³•æ­£å¸¸å·¥ä½œï¼ŒtoString( ) æ–¹æ³•åˆ™ç”¨äºæä¾›æ›´æ¸…æ™°çš„è¾“å…¥æ—¥å¿—ï¼Œå¦åˆ™ä¸€ä¸ªæ•°æ®ç±»é»˜è®¤æ‰“å°å‡ºæ¥çš„æ˜¯ä¸€è¡Œå†…å­˜åœ°å€

2ï¼‰ã€åœ¨ Kotlin ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ data å…³é”®å­—å»ä¿®é¥°ä¸€ä¸ªç±»ï¼ŒKotlin å°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆ Java éœ€è¦é‡å†™çš„é‚£äº›æ–¹æ³•

```kotlin
//åœ¨ Java ä¸­ï¼Œæˆ‘ä»¬ä¼šè¿™ä¹ˆå†™
public class Cellphone {
    
    String brand;
    double price;

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Cellphone cellphone = (Cellphone) o;
        return Double.compare(cellphone.price, price) == 0 &&
                Objects.equals(brand, cellphone.brand);
    }

    @Override
    public int hashCode() {
        return Objects.hash(brand, price);
    }

    @Override
    public String toString() {
        return "Cellphone{" +
                "brand='" + brand + '\'' +
                ", price=" + price +
                '}';
    }
}

//åœ¨ Kotlin ä¸­ï¼Œä½ ä¼šå‘ç°æ˜¯å¦‚æ­¤çš„ç®€æ´
data class Cellphone(val brand: String, val price: Double)
```

#### å•ä¾‹ç±»

1ï¼‰ã€Kotlin ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ object å…³é”®å­—å»æ›¿æ¢ class å…³é”®å­—å°±å¯ä»¥å»å®šä¹‰ä¸€ä¸ªå•ä¾‹ç±»äº†

2ï¼‰ã€è°ƒç”¨å•ä¾‹ç±»ä¸­çš„æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä½¿ç”¨ç±»å . ä¸Šæ–¹æ³•å°±å¯ä»¥äº†ï¼Œç±»ä¼¼äº Java ä¸­çš„é™æ€æ–¹æ³•è°ƒç”¨æ–¹å¼

```kotlin
//javaä¸­å•ä¾‹ æ‡’æ±‰å¼
public class Singleton{
  	private static Singleton instance;
  
  	public synchronized static Singleton getInstace() {
      		if(instance == null){
            	instance = new Singleton();
          }
      		return instance;
    }
  
  	public void singleonTest(){
      	System.out.println("singletonTest in Java is called.");
    }
}

//Kotlinä¸­çš„å•ä¾‹
object Singleton{
  	fun singletonTest(){
      	println("singletonTest in Kotlin is called.")
    }
}

fun main() {
    Singleton.singletonTest()
}
//æ‰“å°ç»“æœ
singletonTest in Kotlin is called.
```

## Lambda ç¼–ç¨‹

Kotlin ä»ç¬¬ä¸€ä¸ªç‰ˆæœ¬å°±å¼€å§‹æ”¯æŒäº† Lambda ç¼–ç¨‹ï¼Œå¹¶ä¸” Kotlin ä¸­çš„ Lambda è¡¨è¾¾å¼æä¸ºå¼ºå¤§ï¼Œæœ¬ç« æˆ‘ä»¬å­¦ä¹  Lambda ç¼–ç¨‹çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼š

1ï¼‰ã€ç®€å•æ¥è¯´ï¼ŒLambda å°±æ˜¯ä¸€æ®µå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’çš„ä»£ç ï¼Œå®ƒå¯ä»¥ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œè¿”å›å€¼ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡

2ï¼‰ã€Lambda å®Œæ•´çš„è¡¨è¾¾å¼çš„è¯­æ³•ç»“æ„ï¼š{ å‚æ•°å1ï¼šå‚æ•°ç±»å‹ï¼Œå‚æ•°å2ï¼šå‚æ•°ç±»å‹ -> å‡½æ•°ä½“ }

3ï¼‰ã€å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ç®€åŒ–å½¢å¼çš„è¯­æ³•ç»“æ„ï¼Œç›´æ¥å°±æ˜¯ä¸€ä¸ªå‡½æ•°ä½“ï¼š{å‡½æ•°ä½“}ï¼Œè¿™ç§æƒ…å†µæ˜¯å½“ Lambda è¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‚æ•°ç»™çœç•¥ï¼Œé»˜è®¤ä¼šæœ‰ä¸ª it å‚æ•°

4ï¼‰ã€Kotlin ä¸­è§„å®šï¼Œå½“ Lambda è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ Lambda è¡¨è¾¾å¼ç§»åˆ°å‡½æ•°æ‹¬å·çš„å¤–é¢

5ï¼‰ã€Kotlin ä¸­è§„å®šï¼Œå½“ Lambda è¡¨è¾¾å¼æ˜¯å‡½æ•°çš„å”¯ä¸€å‚æ•°çš„æ—¶å€™ï¼Œå‡½æ•°çš„æ‹¬å·å¯ä»¥çœç•¥

### 1ã€é›†åˆçš„åˆ›å»ºå’Œéå†

1ï¼‰ã€ä¸å¯å˜é›†åˆï¼šåœ¨é›†åˆåˆå§‹åŒ–ä¹‹åï¼Œæˆ‘ä»¬ä¸èƒ½å¯¹å…¶è¿›è¡Œå¢åˆ æ”¹æ“ä½œ

2ï¼‰ã€å¯å˜é›†åˆï¼šåœ¨é›†åˆåˆå§‹åŒ–ä¹‹åï¼Œæˆ‘ä»¬è¿˜èƒ½å¯¹å…¶è¿›è¡Œå¢åˆ æ”¹æ“ä½œ

| ä¸å¯å˜é›†åˆ | å¯å˜é›†åˆ      |
| ---------- | ------------- |
| listOf     | mutableListOf |
| setOf      | mutableSetOf  |
| mapOf      | mutableMapOf  |

```kotlin
//List é›†åˆ 
//å®šä¹‰ä¸€ä¸ªä¸å¯å˜ List é›†åˆ
val list1 = listOf("Apple","Banana","Orange","Pear","Grape")
//å®šä¹‰ä¸€ä¸ªå¯å˜ List é›†åˆ
val list2 = mutableListOf("Apple","Banana","Orange","Pear","Grape")
//æ·»åŠ å…ƒç´ 
list2.add("Watermelon")
for (i in list2) {
    print("$i ")
}
//æ‰“å°ç»“æœ
Apple Banana Orange Pear Grape Watermelon

//Set é›†åˆå’Œ List é›†åˆç”¨æ³•å®Œå…¨ä¸€æ ·
//å®šä¹‰ä¸€ä¸ªä¸å¯å˜ Set é›†åˆ
val set1 = setOf("Apple","Banana","Orange","Pear","Grape")
//å®šä¹‰ä¸€ä¸ªå¯å˜ Set é›†åˆ
val set2 = mutableSetOf("Apple","Banana","Orange","Pear","Grape")
//æ·»åŠ å…ƒç´ 
set2.add("Watermelon")
for (i in set2) {
    print("$i ")
}
//æ‰“å°ç»“æœ
Apple Banana Orange Pear Grape Watermelon

//Map é›†åˆ
//å®šä¹‰ä¸€ä¸ªä¸å¯å˜ Map é›†åˆ
val map1 = mapOf("Apple" to 1,"Banana" to 2,"Orange" to 3, "Pear" to 4,"Grape" to 5)
//å®šä¹‰ä¸€ä¸ªå¯å˜ Map é›†åˆ
val map2 = mutableMapOf("Apple" to 1,"Banana" to 2,"Orange" to 3, "Pear" to 4,"Grape" to 5)
//å½“å‰ key å­˜åœ¨åˆ™ä¿®æ”¹å…ƒç´ ï¼Œä¸å­˜åœ¨åˆ™æ·»åŠ å…ƒç´ 
map1["Watermelon"] = 6
for ((key,value) in map1) {
    print("$key: $value ")
}
//æ‰“å°ç»“æœ
Apple: 1 Banana: 2 Orange: 3 Pear: 4 Grape: 5 Watermelon: 6 
```

### 2ã€é›†åˆçš„å‡½æ•°å¼ API

```kotlin
//å®šä¹‰ä¸€ä¸ªä¸å¯å˜ List é›†åˆ
val list1 = listOf("Apple","Banana","Orange","Pear","Grape","Watermelon")
//ç°åœ¨æˆ‘æƒ³æ‰“å°é›†åˆä¸­è‹±æ–‡åå­—æœ€é•¿çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåš
//æ–¹å¼1
var maxLengthFruit = ""
for (fruit in list1) {
    if(fruit.length > maxLengthFruit.length){
        maxLengthFruit = fruit
    }
}
print(maxLengthFruit)
//æ‰“å°ç»“æœ
Watermelon

//ä½†æ˜¯å¦‚æœä½¿ç”¨å‡½æ•°å¼ Api å°†ä¼šå˜å¾—æ›´åŠ ç®€å•, maxBy å‡½æ•°ä¼šæ ¹æ®ä½ çš„æ¡ä»¶éå†å¾—åˆ°ç¬¦åˆæ¡ä»¶çš„æœ€å¤§å€¼
//æ–¹å¼2
val maxLengthFruit = list1.maxBy {
    it.length
}
print(maxLengthFruit)
//æ‰“å°ç»“æœ
Watermelon

//é€šè¿‡ maxBy å‡½æ•°ç»“åˆ Lambda è¡¨è¾¾å¼è¯­æ³•ç»“æ„ï¼Œæˆ‘ä»¬æ¥å‰–ææ–¹å¼2è¿™ç§å†™æ³•çš„åŸç†, å¦‚ä¸‹æ‰€ç¤º
//1
val list1 = listOf("Apple","Banana","Orange","Pear","Grape","Watermelon")
val lambda = {fruit: String -> fruit.length}
//maxBy å‡½æ•°å®é™…ä¸Šæ¥æ”¶çš„æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°ï¼Œåç»­è®²é«˜é˜¶å‡½æ•°çš„æ—¶å€™ä¼šè®²åˆ°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¿™é‡Œå¯ä»¥ä¼ å…¥ä¸€ä¸ª Lambda è¡¨è¾¾å¼
val maxLengthFruit = list1.maxBy(lambda)

//2 æ›¿æ¢ lambda
val maxLengthFruit = list1.maxBy({fruit: String -> fruit.length})

//3 Kotlin ä¸­è§„å®šï¼Œå½“ Lambda è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ Lambda è¡¨è¾¾å¼ç§»åˆ°å‡½æ•°æ‹¬å·çš„å¤–é¢
val maxLengthFruit = list1.maxBy(){fruit: String -> fruit.length}

//4 Kotlin ä¸­è§„å®šï¼Œå½“ Lambda è¡¨è¾¾å¼æ˜¯å‡½æ•°çš„å”¯ä¸€å‚æ•°çš„æ—¶å€™ï¼Œå‡½æ•°çš„æ‹¬å·å¯ä»¥çœç•¥
val maxLengthFruit = list1.maxBy{fruit: String -> fruit.length}

//5 å½“ Lambda è¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‚æ•°ç»™çœç•¥ï¼Œé»˜è®¤ä¼šæœ‰ä¸ª it å‚æ•°
val maxLengthFruit = list1.maxBy{ it.length }

//ç»è¿‡ä¸Šé¢ 1->2->3->4->5 è¿™å‡ ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°äº† 5 çš„è¿™ç§å†™æ³•
```

é›†åˆä¸­è¿˜æœ‰å¾ˆå¤šè¿™æ ·çš„å‡½æ•°å¼ Apiï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ list é›†åˆæ¥å®è·µä¸€ä¸‹å…¶ä»–çš„ä¸€äº›å‡½æ•°å¼ Apiï¼š

```kotlin
val list = listOf("Apple","Banana","Orange","Pear","Grape","Watermelon")
//1
//é€šè¿‡ map æ“ä½œï¼ŒæŠŠä¸€ä¸ªå…ƒç´ æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ 
val newList = list.map{
  	it.toUpperCase()
}
for (s in newList) {
    print("$s ")
}
//æ‰“å°ç»“æœ
APPLE BANANA ORANGE PEAR GRAPE WATERMELON 

//2
//é€šè¿‡ filter ç­›é€‰æ“ä½œï¼Œç­›é€‰é•¿åº¦å°äºç­‰äº5çš„å­—ç¬¦ä¸²
val newList = list.filter {
    it.length <= 5
}
for (s in newList) {
    print("$s ")
}
//æ‰“å°ç»“æœ
Apple Pear Grape
```

### 3ã€Java å‡½æ•°å¼ API çš„ä½¿ç”¨

1ï¼‰ã€Kotlin ä¸­è°ƒç”¨ Java æ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°å¼ Api ,ä½†å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š1ã€å¾—æ˜¯ç”¨ Java ç¼–å†™çš„æ¥å£ 2ã€æ¥å£ä¸­åªæœ‰ä¸€ä¸ªå¾…å®ç°çš„æ–¹æ³•

2)ã€Kotlin ä¸­å†™åŒ¿åå†…éƒ¨ç±»å’Œ Java æœ‰ä¸€ç‚¹åŒºåˆ«ï¼ŒKotlin ä¸­å› ä¸ºæŠ›å¼ƒäº† new å…³é”®å­—ï¼Œæ”¹ç”¨ object å…³é”®å­—å°±å¯ä»¥äº†

```kotlin
//java ä¸­çš„åŒ¿åå†…éƒ¨ç±»
new Thread(new Runnable() {
     @Override
     public void run() {

     }
}).start();

//Kotlin ä¸­å¯ä»¥è¿™ä¹ˆå†™
Thread(object : Runnable{
    override fun run() {
            
    }
}).start()

/**
 * æˆ‘ä»¬æ¥ç€æ¥ç®€åŒ– Kotlin ä¸­çš„å†™æ³•
 * å› ä¸º Runnable ç±»ä¸­åªæœ‰ä¸€ä¸ªå¾…å®ç°æ–¹æ³•ï¼Œå³ä½¿è¿™é‡Œæ²¡æœ‰æ˜¾ç¤ºçš„é‡å†™ run() æ–¹æ³•ï¼Œ
 * Kotlin ä¹Ÿèƒ½æ˜ç™½åé¢çš„ Lambda è¡¨è¾¾å¼å°±æ˜¯è¦åœ¨ run() æ–¹æ³•ä¸­å®ç°çš„å†…å®¹
 */
Thread(Runnable{
  
}).start()

//å› ä¸ºæ˜¯å•æŠ½è±¡æ–¹æ³•æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¥å£åè¿›è¡Œçœç•¥
Thread({
  
}).start()

//å½“ Lambda è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ Lambda è¡¨è¾¾å¼ç§»åˆ°å‡½æ•°æ‹¬å·çš„å¤–é¢
Thread(){
  
}.start()

//å½“ Lambda è¡¨è¾¾å¼æ˜¯å‡½æ•°çš„å”¯ä¸€å‚æ•°çš„æ—¶å€™ï¼Œå‡½æ•°çš„æ‹¬å·å¯ä»¥çœç•¥
Thread{
  
}.start()
```

## å››ã€ç©ºæŒ‡é’ˆæ£€æŸ¥

Android ç³»ç»Ÿä¸Šå¥”æºƒæœ€é«˜çš„å¼‚å¸¸å°±æ˜¯ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ˆNullPointerExceptionï¼‰ï¼Œé€ æˆè¿™ç§ç°è±¡çš„ä¸»è¦åŸå› æ˜¯å› ä¸ºç©ºæŒ‡é’ˆæ˜¯ä¸€ç§ä¸å—ç¼–ç¨‹è¯­è¨€æ£€æŸ¥çš„è¿è¡Œæ—¶å¼‚å¸¸ï¼Œåªèƒ½ç”±ç¨‹åºå‘˜ä¸»åŠ¨é€šè¿‡é€»è¾‘åˆ¤æ–­æ¥é¿å…ï¼Œä½†å³ä½¿åœ¨å‡ºè‰²çš„ç¨‹åºå‘˜ï¼Œä¹Ÿä¸å¯èƒ½å°†æ‰€æœ‰æ½œåœ¨çš„ç©ºæŒ‡é’ˆå¼‚å¸¸éƒ½è€ƒè™‘åˆ°ã€‚ä½†æ˜¯è¿™ç§æƒ…å†µåœ¨ Kotlin ä¸Šå¾—åˆ°äº†å¾ˆå¥½çš„è§£å†³ï¼ŒKotlin æŠŠç©ºæŒ‡é’ˆå¼‚å¸¸æå‰åˆ°äº†ç¼–è¯‘æœŸå»æ£€æŸ¥ï¼Œè¿™æ ·çš„åšæ³•å‡ ä¹æœç»äº†ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä½†æ˜¯è¿™æ ·å­ä¼šå¯¼è‡´ä»£ç å˜å¾—æ¯”è¾ƒéš¾å†™ï¼Œä¸è¿‡ Kotlin æä¾›äº†ä¸€ç³»åˆ—çš„è¾…åŠ©å·¥å…·ï¼Œè®©æˆ‘ä»¬èƒ½è½»æ¾çš„å¤„ç†å„ç§åˆ¤ç©ºçš„æƒ…å†µï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥å­¦ä¹ å®ƒ

### 1ã€å¯ç©ºç±»å‹ç³»ç»Ÿå’Œåˆ¤ç©ºè¾…åŠ©å·¥å…·

1ï¼‰ã€åœ¨ç±»å‹åé¢åŠ ä¸Š ? ï¼Œè¡¨ç¤ºå¯ç©ºç±»å‹ï¼ŒKotlin é»˜è®¤æ‰€æœ‰çš„å‚æ•°å’Œå˜é‡ä¸å¯ä¸ºç©º

2ï¼‰ã€åœ¨å¯¹è±¡è°ƒç”¨çš„æ—¶å€™ï¼Œä½¿ç”¨ ?. æ“ä½œç¬¦ï¼Œå®ƒè¡¨ç¤ºå¦‚æœå½“å‰å¯¹è±¡ä¸ä¸ºç©ºåˆ™è°ƒç”¨ï¼Œä¸ºç©ºåˆ™ä»€ä¹ˆéƒ½ä¸åš

3ï¼‰ã€?: æ“ä½œç¬¦è¡¨ç¤ºå¦‚æœå·¦è¾¹çš„ç»“æœä¸ä¸ºç©ºï¼Œè¿”å›å·¦è¾¹çš„ç»“æœï¼Œå¦åˆ™è¿”å›å³è¾¹çš„ç»“æœ

4ï¼‰ã€åœ¨å¯¹è±¡åé¢åŠ  !! æ“ä½œç¬¦è¡¨ç¤ºå‘Šè¯‰Kotlinæˆ‘è¿™é‡Œä¸€å®šä¸ä¼šä¸ºç©º,ä½ ä¸ç”¨è¿›è¡Œæ£€æµ‹äº†ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™æŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸

5ï¼‰ã€let å‡½æ•°ï¼Œæä¾›å‡½æ•°å¼ Apiï¼Œå¹¶æŠŠå½“å‰è°ƒç”¨çš„å¯¹è±¡å½“ä½œå‚æ•°ä¼ é€’åˆ° Lambda è¡¨è¾¾å¼ä¸­

**æƒ…å†µ1ï¼š** åœ¨ç±»å‹åé¢åŠ ä¸Š ? ï¼Œè¡¨ç¤ºå¯ç©ºç±»å‹ï¼ŒKotlin é»˜è®¤æ‰€æœ‰çš„å‚æ•°å’Œå˜é‡ä¸å¯ä¸ºç©º

```kotlin
interface Study{
    fun readBooks()
    fun domeHomework(){
        println("do homework default implementation")
    }
}

fun doStudy(study: Study){
    study.readBooks()
    study.domeHomework()
}
```

ä¸Šé¢è¿™æ®µä»£ç æ˜¯ä¸ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸çš„ï¼Œå¦‚æœä½ å°è¯•å‘ doStudy è¿™ä¸ªæ–¹æ³•ä¼ é€’ä¸€ä¸ª null ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š

![image-20210317101826003](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d3e0d4640674c8cbfb70c4cb81b0ef0~tplv-k3u1fbpfcp-zoom-1.image)

å› æ­¤è¿™ç§æƒ…å†µæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å¯ç©ºç±»å‹ï¼ŒæŠŠ Study æ”¹æˆ Studyï¼Ÿï¼Œå¦‚ä¸‹å›¾ï¼š

![image-20210317104058401](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0aeed15a301b4de1b3c6b3f5c43eed42~tplv-k3u1fbpfcp-zoom-1.image)

ä½ ä¼šå‘ç°è™½ç„¶è°ƒç”¨ doStudy æ–¹æ³•ä¸æŠ¥é”™äº†ï¼Œä½†æ˜¯ doStudy å†…éƒ¨çš„è°ƒç”¨å´æŠ¥é”™äº†ï¼Œå› ä¸ºæ­¤æ—¶ doStudy æ¥å—ä¸€ä¸ªå¯ç©ºçš„ç±»å‹å‚æ•°ï¼Œå¯èƒ½ä¼šé€ æˆå†…éƒ¨çš„ç©ºæŒ‡é’ˆï¼Œ Kotlin ç¼–è¯‘å™¨ä¸å…è®¸è¿™ç§æƒ…å†µå­˜åœ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹æ”¹é€ å°±å¥½äº†ï¼š

```kotlin
fun doStudy(study: Study?){
    if(study != null){
        study.readBooks()
        study.domeHomework()
    }
}
```

**æƒ…å†µ2ï¼š** åœ¨å¯¹è±¡è°ƒç”¨çš„æ—¶å€™ï¼Œä½¿ç”¨ ?. æ“ä½œç¬¦ï¼Œå®ƒè¡¨ç¤ºå¦‚æœå½“å‰å¯¹è±¡ä¸ä¸ºç©ºåˆ™è°ƒç”¨ï¼Œä¸ºç©ºåˆ™ä»€ä¹ˆéƒ½ä¸åš

é’ˆå¯¹ä¸Šé¢çš„ doStudy æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿™ä¹ˆåšï¼š

```kotlin
fun doStudy(study: Study?){
    study?.readBooks()
    study?.domeHomework()
}
```

**æƒ…å†µ3ï¼š** ?: æ“ä½œç¬¦è¡¨ç¤ºå¦‚æœå·¦è¾¹çš„ç»“æœä¸ä¸ºç©ºï¼Œè¿”å›å·¦è¾¹çš„ç»“æœï¼Œå¦åˆ™è¿”å›å³è¾¹çš„ç»“æœ

```kotlin
//å¹³æ—¶æˆ‘ä»¬å¯èƒ½å†™è¿™æ ·çš„ä»£ç 
val a = if (b != null) {
    b
} else {
    c
}

//ä½¿ç”¨ ?: æ“ä½œç¬¦å¯ä»¥ç®€åŒ–æˆè¿™æ ·
val a = b ?: c
```

**æƒ…å†µ4ï¼š** åœ¨å¯¹è±¡åé¢åŠ  !! æ“ä½œç¬¦è¡¨ç¤ºå‘Šè¯‰Kotlinæˆ‘è¿™é‡Œä¸€å®šä¸ä¼šä¸ºç©º,ä½ ä¸ç”¨è¿›è¡Œæ£€æµ‹äº†ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™æŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸

```kotlin
//ä¸‹é¢è¿™æ®µä»£ç ç¼–è¯‘é€šä¸è¿‡ï¼Œå› ä¸º printName æ–¹æ³•é‡Œçš„ name å¹¶ä¸çŸ¥é“ä½ åœ¨å¤–é¢åšäº†éç©ºåˆ¤æ–­
val name: String? = "erdai"

fun printName(){
    val upperCaseName = name.toUpperCase()
    print(upperCaseName)
}

fun main() {
    if(name != null){
       printName()
    }
}

//å› æ­¤åœ¨ä¸Šé¢è¿™ç§æ˜ç¡®ä¸ä¼šä¸ºç©ºçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ !! æ“ä½œç¬¦ï¼Œæ”¹é€ ä¸€ä¸‹ printName æ–¹æ³•
//åŒæ—¶è¦æé†’ä¸€ä¸‹è‡ªå·±ï¼Œæ˜¯å¦å­˜åœ¨æ›´å¥½çš„å®ç°æ–¹å¼ï¼Œå› ä¸ºä½¿ç”¨è¿™ç§æ“ä½œç¬¦ï¼Œè¿˜æ˜¯ä¼šå­˜åœ¨æ½œåœ¨çš„ç©ºæŒ‡é’ˆå¼‚å¸¸
fun printName(){
    val upperCaseName = name!!.toUpperCase()
    print(upperCaseName)
}
//æ‰“å°ç»“æœ
ERDAI
```

**æƒ…å†µ5ï¼š** let å‡½æ•°ï¼Œæä¾›å‡½æ•°å¼ Apiï¼Œå¹¶æŠŠå½“å‰è°ƒç”¨çš„å¯¹è±¡å½“ä½œå‚æ•°ä¼ é€’åˆ° Lambda è¡¨è¾¾å¼ä¸­

```kotlin
//è¿™æ˜¯æˆ‘ä»¬æƒ…å†µ2 å®ç°çš„æ–¹å¼ï¼Œä½†æ˜¯å¦‚æœè¿™ç§è°ƒç”¨æ–¹å¼ä¸€å¤šï¼Œä¼šæ˜¾å¾—ç‰¹åˆ«å•°å—¦ï¼Œä¾‹å¦‚ï¼š
fun doStudy(study: Study?){
    study?.readBooks()
    study?.domeHomework()
    study?.a()
    study?.b()
}
//ä¸Šé¢è¿™ç§æƒ…å†µç­‰åŒäºå¦‚ä¸‹ä»£ç :
fun doStudy(study: Study?){
    if(study != null){
      	study?.readBooks()
    }
  
    if(study != null){
     	study?.domeHomework()
    }
  
    if(study != null){
     	study?.a()
    }
  
    if(study != null){
      	study?.b()
    }
}

//è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ let å‡½æ•°æ¥æ“ä½œäº†
fun doStudy(study: Study?){
    study?.let{
      it.readBooks()
      it.domeHomework()
      it.a()
      it.b()
    }
}
```

## äº”ã€Kotlinä¸­çš„å°é­”æœ¯

### 1ã€å­—ç¬¦ä¸²çš„å†…åµŒè¡¨è¾¾å¼

1ï¼‰ã€Kotlin ä¸­ï¼Œå­—ç¬¦ä¸²é‡Œé¢å¯ä»¥ä½¿ç”¨ ${} å¼•ç”¨å˜é‡å€¼å’Œè¡¨è¾¾å¼ï¼Œå½“ {} é‡Œé¢åªæœ‰ä¸€ä¸ªå˜é‡ï¼Œéè¡¨è¾¾å¼æ—¶ï¼Œ{}ä¹Ÿå¯ä»¥å»æ‰

```kotlin
fun main() {
    val a = "erdai"
    val b = "666"
    print("$a ${a + b}")
}
//æ‰“å°ç»“æœ
erdai erdai666
```

### 2ã€å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼

1ï¼‰ã€å®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡½æ•°çš„å‚æ•°æ·»åŠ ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¿™æ ·å­æˆ‘ä»¬å°±ä¸éœ€è¦å»ä¼ é‚£ä¸ªå‚æ•°

2ï¼‰ã€åœ¨æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ key value çš„å½¢å¼æ¥ä¼ å‚

```kotlin
//æƒ…å†µ1ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡½æ•°çš„å‚æ•°æ·»åŠ ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¿™æ ·å­æˆ‘ä»¬å°±ä¸éœ€è¦å»ä¼ é‚£ä¸ªå‚æ•°
fun printParams(name: String,age: Int = 20){
    print("I am $name, $age years old.")
}

fun main() {
    printParams("erdai")
}
//æ‰“å°ç»“æœ
I am erdai, 20 years old.

//å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©è¦†ç›–é»˜è®¤å‚æ•°
fun main() {
    printParams("erdai",25)
}
//æ‰“å°ç»“æœ
I am erdai, 25 years old.

//æƒ…å†µ2ï¼šåœ¨æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ key value çš„å½¢å¼æ¥ä¼ å‚
fun main() {
    //æ³¨æ„ printParams æ–¹æ³•çš„ä¸€ä¸ªå‚æ•°æ˜¯ name ,ç¬¬äºŒä¸ªæ‰æ˜¯ age, ä½†æ˜¯é€šè¿‡ key value çš„å½¢å¼æ¥ä¼ å‚å°±ä¸ä¼šå‡ºç°å‚æ•°é¡ºåºé—®é¢˜
    printParams(age = 19,name = "erdai666")
}
//æ‰“å°ç»“æœ
I am erdai666, 19 years old.
```

**å°æŠ€å·§ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼æ¥ä»£æ›¿æ¬¡æ„é€ å‡½æ•°ï¼Œä½¿ç”¨ä¸»æ„é€ å‡½æ•°å°±å¥½äº†**

## å…­ã€æ ‡å‡†å‡½æ•°å’Œé™æ€æ–¹æ³•

### 1ã€æ ‡å‡†å‡½æ•°letï¼Œalsoï¼Œwithï¼Œrun å’Œ apply

1ï¼‰ã€let å‡½æ•°ï¼Œå¿…é¡»è®©æŸä¸ªå¯¹è±¡è°ƒç”¨ï¼Œæ¥æ”¶ä¸€ä¸ª Lambda è¡¨è¾¾å¼å‚æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­çš„å‚æ•°ä¸ºå½“å‰è°ƒç”¨è€…ï¼Œä¸”æœ€åä¸€è¡Œä»£ç ä½œä¸ºè¿”å›å€¼

2ï¼‰ã€also å‡½æ•°ï¼Œå¿…é¡»è®©æŸä¸ªå¯¹è±¡è°ƒç”¨ï¼Œæ¥æ”¶ä¸€ä¸ª Lambda è¡¨è¾¾å¼å‚æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­çš„å‚æ•°ä¸ºå½“å‰è°ƒç”¨è€…ï¼Œæ— æ³•æŒ‡å®šè¿”å›å€¼ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„æ˜¯å½“å‰è°ƒç”¨å¯¹è±¡æœ¬èº«

3ï¼‰ã€with å‡½æ•°ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºä»»æ„ç±»å‹å‚æ•°ï¼Œç¬¬äºŒä¸ªä¸º Lambda è¡¨è¾¾å¼å‚æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­æ‹¥æœ‰ç¬¬ä¸€ä¸ªå‚æ•°çš„ä¸Šä¸‹æ–‡ this ï¼Œä¸”æœ€åä¸€è¡Œä»£ç ä½œä¸ºè¿”å›å€¼

4ï¼‰ã€run å‡½æ•°ï¼Œå¿…é¡»è®©æŸä¸ªå¯¹è±¡è°ƒç”¨ï¼Œæ¥æ”¶ä¸€ä¸ª Lambda è¡¨è¾¾å¼å‚æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­æ‹¥æœ‰å½“å‰è°ƒç”¨å¯¹è±¡çš„ä¸Šä¸‹æ–‡ this ï¼Œä¸”æœ€åä¸€è¡Œä»£ç ä½œä¸ºè¿”å›å€¼

5ï¼‰ã€apply å‡½æ•°ï¼Œå¿…é¡»è®©æŸä¸ªå¯¹è±¡è°ƒç”¨ï¼Œæ¥æ”¶ä¸€ä¸ª Lambda è¡¨è¾¾å¼å‚æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­æ‹¥æœ‰å½“å‰è°ƒç”¨å¯¹è±¡çš„ä¸Šä¸‹æ–‡ this ï¼Œæ— æ³•æŒ‡å®šè¿”å›å€¼ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„æ˜¯å½“å‰è°ƒç”¨å¯¹è±¡æœ¬èº«

**æ³¨æ„ï¼šåœ¨Lambda è¡¨è¾¾å¼ä¸­ï¼Œæ‹¥æœ‰å¯¹è±¡çš„ä¸Šä¸‹æ–‡ thisï¼Œå’Œæ‹¥æœ‰è¯¥å¯¹è±¡æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ this å¯çœç•¥ï¼Œè€Œæ‹¥æœ‰è¯¥å¯¹è±¡æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰å‚æ•°åï¼Œå¦‚æœä¸å†™è¯¥å‚æ•°ï¼Œé»˜è®¤ä¼šæœ‰ä¸ª it å‚æ•°**

ä¸‹é¢é€šè¿‡ä»£ç æ¥æ„Ÿå—ä¸€ä¸‹ï¼š

```kotlin
/**
 * æƒ…å†µ1ï¼šlet å‡½æ•°
 * 1ã€åˆ›å»ºä¸€ä¸ª StringBuilder å¯¹è±¡è°ƒç”¨ let å‡½æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­çš„å‚æ•°ä¸º StringBuilder å¯¹è±¡
 * 2ã€å½“ Lambda è¡¨è¾¾å¼ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™å¯çœç•¥ï¼Œé»˜è®¤ä¼šæœ‰ä¸ª it çš„å‚æ•°ï¼Œè¿”å›å€¼å³ä¸º Lambda è¡¨è¾¾å¼ä¸­æœ€åä¸€è¡Œä»£ç 
 */
fun main() {
    val name = "erdai"
    val age = 20
    val returnValue = StringBuilder().let {
        it.append(name).append(" ").append(age)
    }
    println(returnValue)
}
//æ‰“å°ç»“æœ
erdai 20

/**
 * æƒ…å†µ2ï¼šalso å‡½æ•°
 * 1ã€åˆ›å»ºä¸€ä¸ª StringBuilder å¯¹è±¡è°ƒç”¨ also å‡½æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­çš„å‚æ•°ä¸º StringBuilder å¯¹è±¡
 * 2ã€å½“ Lambda è¡¨è¾¾å¼ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™å¯çœç•¥ï¼Œé»˜è®¤ä¼šæœ‰ä¸ª it çš„å‚æ•°ï¼Œæ— æ³•æŒ‡å®šè¿”å›å€¼ï¼Œè¿”å›è°ƒç”¨å¯¹è±¡æœ¬èº«
 */
fun main() {
    val name = "erdai"
    val age = 20
    val stringBuilder = StringBuilder().also {
        it.append(name).append(" ").append(age)
    }
    println(stringBuilder.toString())
}
//æ‰“å°ç»“æœ
erdai 20

/**
 * æƒ…å†µ3ï¼šwith å‡½æ•°
 * 1ã€æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸º StringBuilder å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º Lambda è¡¨è¾¾å¼ï¼Œ
 * 2ã€Lambda è¡¨è¾¾å¼ä¸­æ‹¥æœ‰ StringBuilder å¯¹è±¡çš„ä¸Šä¸‹æ–‡ this, è¿”å›å€¼å³ä¸º Lambda è¡¨è¾¾å¼ä¸­çš„æœ€åä¸€è¡Œä»£ç 
 */
fun main() {
    val name = "erdai"
    val age = 20
    val returnValue = with(StringBuilder()) {
        append(name).append(" ").append(age)
    }
    println(returnValue)
}
//æ‰“å°ç»“æœ
erdai 20

/**
 * æƒ…å†µ4ï¼šrun å‡½æ•°
 * 1ã€åˆ›å»ºä¸€ä¸ª StringBuilder å¯¹è±¡è°ƒç”¨ also å‡½æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­æ‹¥æœ‰ StringBuilder å¯¹è±¡çš„ä¸Šä¸‹æ–‡ this
 * 2ã€è¿”å›å€¼å³ä¸º Lambda è¡¨è¾¾å¼ä¸­çš„æœ€åä¸€è¡Œä»£ç 
 */
fun main() {
    val name = "erdai"
    val age = 20

    val returnValue = StringBuilder().run {
        append(name).append(" ").append(age)
    }
    println(returnValue)
}
//æ‰“å°ç»“æœ
erdai 20

/**
 * æƒ…å†µ5ï¼šapply å‡½æ•°
 * 1ã€åˆ›å»ºä¸€ä¸ª StringBuilder å¯¹è±¡è°ƒç”¨ apply å‡½æ•°ï¼ŒLambda è¡¨è¾¾å¼ä¸­æ‹¥æœ‰ StringBuilder å¯¹è±¡çš„ä¸Šä¸‹æ–‡ this
 * 2ã€æ— æ³•æŒ‡å®šè¿”å›å€¼ï¼Œè¿”å›è°ƒç”¨å¯¹è±¡æœ¬èº«
 */
fun main() {
    val name = "erdai"
    val age = 20

    val stringBuilder = StringBuilder().apply {
        append(name).append(" ").append(age)
    }
    println(stringBuilder.toString())
}
//æ‰“å°ç»“æœ
erdai 20
```

å…¶å®ä¸Šé¢ 5 ä¸ªæ ‡å‡†å‡½æ•°æœ‰å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ï¼Œæˆ‘ä»¬éœ€ææ¸…æ¥šå®ƒä»¬å·®å¼‚ä¹‹å¤„ï¼Œä¸‹é¢æˆ‘ä»¬ç”¨ä¸€ä¸ªå›¾è¡¨æ¥æ€»ç»“ä¸€ä¸‹ï¼š

| æ ‡å‡†å‡½æ•° | å‡½æ•°å‚æ•° | æ˜¯å¦æ˜¯æ‰©å±•å‡½æ•° | è¿”å›å€¼       |
| -------- | -------- | -------------- | ------------ |
| T.let    | it       | æ˜¯             | æœ€åä¸€è¡Œä»£ç  |
| T.also   | it       | æ˜¯             | å¯¹è±¡æœ¬èº«     |
| with     | this     | å¦             | æœ€åä¸€è¡Œä»£ç  |
| T.run    | this     | æ˜¯             | æœ€åä¸€è¡Œä»£ç  |
| T.apply  | this     | æ˜¯             | å¯¹è±¡æœ¬èº«     |

### 2ã€å®šä¹‰é™æ€æ–¹æ³•

Kotlin ä¸­æ²¡æœ‰ç›´æ¥æä¾›å®šä¹‰ä¸ºé™æ€æ–¹æ³•çš„å…³é”®å­—ï¼Œä½†æ˜¯æä¾›äº†ä¸€äº›ç±»ä¼¼çš„è¯­æ³•ç‰¹æ€§æ¥æ”¯æŒé™æ€æ–¹æ³•è°ƒç”¨çš„å†™æ³•

1ï¼‰ã€ä½¿ç”¨ companion object ä¸ºä¸€ä¸ªç±»åˆ›å»ºä¸€ä¸ªä¼´ç”Ÿç±»ï¼Œç„¶åè°ƒç”¨è¿™ä¸ªä¼´ç”Ÿç±»çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸å«é™æ€æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥å½“ä½œé™æ€æ–¹æ³•è°ƒç”¨

2ï¼‰ã€ä½¿ç”¨ object å…³é”®å­—å®šä¹‰ä¸€ä¸ªå•ä¾‹ç±»ï¼Œé€šè¿‡å•ä¾‹ç±»ï¼Œå»è°ƒç”¨æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿä¸å«é™æ€æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥å½“ä½œé™æ€æ–¹æ³•è°ƒç”¨

3ï¼‰ã€å¦‚æœæƒ³å®šä¹‰çœŸæ­£çš„é™æ€æ–¹æ³•ï¼ŒKotlin ä¸­ä¹Ÿæä¾›äº†ä¸¤ç§æ–¹å¼ï¼š1ã€ä½¿ç”¨ @JvmStatic æ³¨è§£ï¼Œä¸”æ³¨è§£åªèƒ½åŠ åœ¨ä¼´ç”Ÿç±»å’Œå•ä¾‹ç±»ä¸Šçš„æ–¹æ³•ä¸Šé¢  2ã€å®šä¹‰é¡¶å±‚æ–¹æ³•

4ï¼‰ã€é¡¶å±‚æ–¹æ³•å°±æ˜¯ä¸å®šä¹‰åœ¨ä»»ä½•ç±»ä¸­çš„æ–¹æ³•ï¼Œé¡¶å±‚æ–¹æ³•åœ¨ä»»ä½•ä½ç½®éƒ½èƒ½è¢«è°ƒç”¨åˆ°ï¼ŒKotlin ç¼–è¯‘å™¨ä¼šæŠŠæ‰€æœ‰çš„é¡¶å±‚æ–¹æ³•ç¼–è¯‘æˆé™æ€æ–¹æ³•

5ï¼‰ã€å¦‚æœåœ¨ Java ä¸­è°ƒç”¨é¡¶å±‚æ–¹æ³•ï¼ŒJava é»˜è®¤æ˜¯æ²¡æœ‰é¡¶å±‚æ–¹æ³•çš„æ¦‚å¿µçš„ï¼ŒKotlin ç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªæˆ‘ä»¬å®šä¹‰è¿™ä¸ªæ–‡ä»¶çš„ Java ç±»ï¼Œä¾‹å¦‚æˆ‘åœ¨ Kotlin ä¸­çš„ Util.kt æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªé¡¶å±‚æ–¹æ³•ï¼Œé‚£ä¹ˆå°±ä¼šç”Ÿæˆä¸€ä¸ª UtilKt çš„ Java ç±»ä¾›åœ¨ Java ä¸­è°ƒç”¨

6ï¼‰ã€åœ¨ Kotlin ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ å•ä¾‹ï¼Œä¼´ç”Ÿç±»å’Œé¡¶å±‚æ–¹æ³•ï¼Œ@JvmStatic æ³¨è§£ç”¨çš„æ¯”è¾ƒå°‘

```kotlin
//åœ¨ Java ä¸­æˆ‘ä»¬å¯ä»¥è¿™æ ·å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³•
public class Util {
  
    public static void doAction(){
        System.out.println("do something");
    }
}

//Kotlin ä¸­ç±»ä¼¼è¿™æ ·é™æ€è°ƒç”¨å¤šç§å¤šæ ·
//æƒ…å†µ1ï¼šä½¿ç”¨ companion object ä¸ºä¸€ä¸ªç±»åˆ›å»ºä¸€ä¸ªä¼´ç”Ÿç±»
fun main() {
   Util.doAction()
}

class Util{
    companion object{
        fun doAction(){
            println("do something")
        }
    }
}
//æ‰“å°ç»“æœ
do something

//æƒ…å†µ2ï¼šä½¿ç”¨ object å…³é”®å­—å®šä¹‰ä¸€ä¸ªå•ä¾‹ç±»
fun main() {
   Util.doAction()
}

object Util {

    fun doAction() {
        println("do something")
    }
}
//æ‰“å°ç»“æœ
do something

//æƒ…å†µ3ï¼š1ã€ä½¿ç”¨ @JvmStatic æ³¨è§£ 2ã€å®šä¹‰é¡¶å±‚æ–¹æ³•
//1
//å•ä¾‹ç±»
object Util {
  
    @JvmStatic
    fun doAction() {
        println("do something")
    }
}

//ä¼´ç”Ÿç±»
class Util {
  
    companion object{
        fun doAction() {
            println("do something")
        }
    }
}

//2 ä½¿ç”¨ AndroidStudio æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨å¼¹æ¡†ä¸­é€‰æ‹© File å³å¯ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ª File ä¸­ç¼–å†™ä¸€ä¸ªé¡¶å±‚æ–¹æ³•
//é¡¶å±‚æ–¹æ³•åœ¨ä»»ä½•ä½ç½®éƒ½èƒ½è°ƒç”¨åˆ°
fun doAction(){
    println("do something")
}
```

ä¸Šè¿°ä»£ç å¤§å®¶å¯ä»¥å°† Kotlin æ–‡ä»¶è½¬æ¢æˆ Java æ–‡ä»¶çœ‹ä¸€ä¸‹ï¼Œä½ å°±ä¼šå‘ç°å®šä¹‰çœŸæ­£çš„é™æ€æ–¹æ³•å’Œéé™æ€æ–¹æ³•çš„åŒºåˆ«

## ä¸ƒã€å»¶è¿Ÿåˆå§‹åŒ–å’Œå¯†å°ç±»

### 1ã€å¯¹å˜é‡å»¶è¿Ÿåˆå§‹åŒ–

1ï¼‰ã€ä½¿ç”¨ lateinit å…³é”®å­—å¯¹ä¸€ä¸ªå˜é‡å»¶è¿Ÿåˆå§‹åŒ–

ä½¿ç”¨  lateinit å…³é”®å­—æ³¨æ„äº‹é¡¹ï¼š

1ã€åªèƒ½ä½œç”¨äº var å±æ€§ï¼Œä¸”è¯¥å±æ€§æ²¡æœ‰è‡ªå®šä¹‰ get å’Œ set æ–¹æ³•

2ã€è¯¥å±æ€§å¿…é¡»æ˜¯éç©ºç±»å‹ï¼Œä¸”ä¸èƒ½æ˜¯åŸç”Ÿç±»å‹

2ï¼‰ã€å½“ä½ å¯¹ä¸€ä¸ªå˜é‡ä½¿ç”¨äº† lateinit å…³é”®å­—ï¼ŒKotlin ç¼–è¯‘å™¨å°±ä¸ä¼šåœ¨å»æ£€æŸ¥è¿™ä¸ªå˜é‡æ˜¯å¦ä¼šä¸ºç©ºäº†ï¼Œæ­¤æ—¶ä½ è¦ç¡®ä¿å®ƒåœ¨è¢«è°ƒç”¨ä¹‹å‰å·²ç»åˆå§‹åŒ–äº†ï¼Œå¦åˆ™ç¨‹åºè¿è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œå¯ä»¥ä½¿ç”¨ ::object.isInitialized è¿™ç§å›ºå®šçš„è¯­æ³•ç»“æ„åˆ¤æ–­å˜é‡æ˜¯å¦å·²ç»åˆå§‹åŒ–

3ï¼‰ã€ä½¿ç”¨ by lazy å¯¹ä¸€ä¸ªå˜é‡å»¶è¿Ÿåˆå§‹åŒ–

ä½¿ç”¨ by lazy æ³¨æ„äº‹é¡¹ï¼š

1ã€åªèƒ½ä½œç”¨äº val å±æ€§

```kotlin
//æƒ…å†µ1ï¼šä½¿ç”¨ lateinit å…³é”®å­—å¯¹ä¸€ä¸ªå˜é‡å»¶è¿Ÿåˆå§‹åŒ–
lateinit var name: String

fun main() {
   name = "erdai"
   println(name)
}
//æ‰“å°ç»“æœ
erdai

//æƒ…å†µ2: ä½¿ç”¨ ::object.isInitialized è¿™ç§å›ºå®šçš„è¯­æ³•ç»“æ„åˆ¤æ–­å˜é‡æ˜¯å¦å·²ç»åˆå§‹åŒ–
lateinit var name: String

fun main() {
    if(::name.isInitialized){
        println(name)
    }else{
        println("name not been initialized")
    }
}
//æ‰“å°ç»“æœ
name not been initialized

//æƒ…å†µ3: ä½¿ç”¨ by lazy å¯¹ä¸€ä¸ªå˜é‡å»¶è¿Ÿåˆå§‹åŒ–
//ç‰¹ç‚¹ï¼šè¯¥å±æ€§è°ƒç”¨çš„æ—¶å€™æ‰ä¼šåˆå§‹åŒ–ï¼Œä¸” lazy åé¢çš„ Lambda è¡¨è¾¾å¼åªä¼šæ‰§è¡Œä¸€æ¬¡
val name: String by lazy {
    "erdai"
}

fun main() {
    println(name)
}
//æ‰“å°ç»“æœ
erdai
```

### 2ã€ä½¿ç”¨å¯†å°ç±»ä¼˜åŒ–ä»£ç 

å¯†å°ç±»èƒ½ä½¿æˆ‘ä»¬å†™å‡ºæ›´åŠ è§„èŒƒå’Œå®‰å…¨çš„ä»£ç 

1ï¼‰ã€ä½¿ç”¨ sealed class å®šä¹‰ä¸€ä¸ªå¯†å°ç±»

2ï¼‰ã€å¯†å°ç±»åŠå…¶å­ç±»ï¼Œåªèƒ½å®šä¹‰åœ¨åŒä¸€ä¸ªæ–‡ä»¶çš„é¡¶å±‚ä½ç½®

3ï¼‰ã€å¯†å°ç±»å¯è¢«ç»§æ‰¿

4ï¼‰ã€å½“æˆ‘ä»¬ä½¿ç”¨æ¡ä»¶è¯­å¥çš„æ—¶å€™ï¼Œéœ€è¦å®ç°å¯†å°ç±»æ‰€æœ‰å­ç±»çš„æƒ…å†µï¼Œé¿å…å†™å‡ºæ°¸è¿œä¸ä¼šæ‰§è¡Œçš„ä»£ç 

```kotlin
//åœ¨ä½¿ç”¨å¯†å°ç±»ä¹‹å‰æˆ‘ä»¬å¯èƒ½ä¼šå†™å‡ºè¿™ç§ä»£ç 
interface Result
class Success : Result
class Failure : Result
/**
 * é‚£ä¹ˆæ­¤æ—¶å¦‚æœæˆ‘æ–°å¢ä¸€ä¸ªç±»å®ç° Result æ¥å£ï¼Œç¼–è¯‘å™¨å¹¶ä¸ä¼šæç¤ºæˆ‘ä»¬å»æ–°å¢æ–°çš„æ¡ä»¶åˆ†æ”¯
 * å¦‚æœæˆ‘ä»¬æ²¡æœ‰æ–°å¢ç›¸åº”çš„æ¡ä»¶åˆ†æ”¯ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°æ‰§è¡Œ else çš„æƒ…å†µ
 * å…¶å®è¿™ä¸ª else å°±æ˜¯ä¸€ä¸ªæ— ç”¨åˆ†æ”¯ï¼Œè¿™ä»…ä»…æ˜¯ä¸ºäº†æ»¡è¶³ç¼–è¯‘å™¨çš„è¦æ±‚
 */
fun getResultMsg(result: Result) = when (result){
    is Success -> "Success"
    is Failure -> "Failure"
    else -> throw RuntimeException()
}

//åœ¨ä½¿ç”¨å¯†å°ç±»ä¹‹å
sealed class Result
class Success : Result()
class Failure : Result()
/**
 * æ­¤æ—¶æˆ‘ä»¬å°±é¿å…äº†å†™ else åˆ†æ”¯ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœæˆ‘æ–°å¢ä¸€ä¸ªç±»å®ç° Result å¯†å°ç±»
 * ç¼–è¯‘å™¨å°±ä¼šæç¤ºå¼‚å¸¸ï¼Œéœ€è¦ when å»æ–°å¢ç›¸åº”çš„æ¡ä»¶åˆ†æ”¯
 */
fun getResultMsg(result: Result) = when (result){
    is Success -> "Success"
    is Failure -> "Failure"
}
```

## å…«ã€æ‰©å±•å‡½æ•°å’Œè¿ç®—ç¬¦

### 1ã€å¤§æœ‰ç”¨é€”çš„æ‰©å±•å‡½æ•°

æ‰©å±•å‡½æ•°å…è®¸æˆ‘ä»¬å»æ‰©å±•ä¸€ä¸ªç±»çš„å‡½æ•°ï¼Œè¿™ç§ç‰¹æ€§æ˜¯ Java ä¸­æ‰€æ²¡æœ‰çš„

1ï¼‰ã€æ‰©å±•å‡½æ•°çš„è¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š

```kotlin
fun ClassName.methodName(params1: Int, params2: Int) : Int{
  
}
```

ç›¸æ¯”äºæ™®é€šçš„å‡½æ•°ï¼Œæ‰©å±•å‡½æ•°åªéœ€è¦åœ¨å‡½æ•°å‰é¢åŠ ä¸Šä¸€ä¸ª ClassName. çš„è¯­æ³•ç»“æ„ï¼Œå°±è¡¨ç¤ºæŠŠè¯¥å‡½æ•°æ·»åŠ åˆ°æŒ‡å®šçš„ç±»ä¸­

2ï¼‰ã€ä¸€èˆ¬æˆ‘ä»¬è¦å®šä¹‰å“ªä¸ªç±»çš„æ‰©å±•å‡½æ•°ï¼Œæˆ‘ä»¬å°±å®šä¹‰ä¸€ä¸ªåŒåçš„ Kotlin æ–‡ä»¶ï¼Œä¾¿äºåç»­æŸ¥æ‰¾ï¼Œè™½ç„¶è¯´ä¹Ÿå¯ä»¥å®šä¹‰åœ¨ä»»ä½•ä¸€ä¸ªç±»ä¸­ï¼Œä½†æ˜¯æ›´æ¨èå°†å®ƒå®šä¹‰æˆé¡¶å±‚æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥è®©æ‰©å±•æ–¹æ³•æ‹¥æœ‰å…¨å±€çš„è®¿é—®åŸŸ

3ï¼‰ã€æ‰©å±•å‡½æ•°é»˜è®¤æ‹¥æœ‰è¿™ä¸ªç±»çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ

ä¾‹å¦‚æˆ‘ä»¬ç°åœ¨è¦ç»™ String è¿™ä¸ªç±»æ‰©å±•ä¸€ä¸ª printString æ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ–°å»ºä¸€ä¸ª String.kt çš„æ–‡ä»¶ï¼Œç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶ä¸‹é¢ç¼–å†™æ‰©å±•å‡½æ•°ï¼š

```kotlin
fun String.printString(){
    println(this)
}

fun main() {
    val name = "erdai"
    name.printString()
}
//æ‰“å°ç»“æœ
erdai
```

### 2ã€æœ‰è¶£çš„è¿ç®—ç¬¦é‡è½½

Kotlin çš„è¿ç®—ç¬¦é‡è½½å…è®¸æˆ‘ä»¬è®©ä»»æ„ä¸¤ä¸ªå¯¹è±¡è¿›è¡Œç›¸åŠ ï¼Œæˆ–è€…æ˜¯è¿›è¡Œå…¶ä»–æ›´å¤šçš„è¿ç®—æ“ä½œ

1ï¼‰è¿ç®—ç¬¦é‡è½½ä½¿ç”¨çš„æ˜¯ operator å…³é”®å­—ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æŒ‡å®šå‡½æ•°å‰é¢åŠ ä¸Š operator å…³é”®å­—ï¼Œå°±å¯ä»¥å®ç°è¿ç®—ç¬¦é‡è½½çš„åŠŸèƒ½äº†ã€‚

ä¸Šé¢æ‰€è¯´çš„æŒ‡å®šå‡½æ•°æœ‰ä¸‹é¢è¿™äº›ï¼Œå¦‚å›¾ï¼š

![image-20210319102601471](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df8ae50fc7cf4799bebe405014069ddd~tplv-k3u1fbpfcp-zoom-1.image)

2ï¼‰ä¾‹å¦‚æˆ‘ç°åœ¨è¦å®ç°ä¸¤ä¸ªå¯¹è±¡ç›¸åŠ çš„åŠŸèƒ½ï¼Œå®ƒçš„è¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š

```kotlin
class Obj {
   operator fun plus(obj: Obj): Obj{
     	//do something
   }
}
```

ä¸‹é¢æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªé‡‘é’±ç›¸åŠ çš„ä¾‹å­ï¼š

```kotlin
class Money(val value: Int) {

    //å®ç°è¿ç®—ç¬¦é‡è½½ Money + Money
    operator fun plus(money: Money): Money {
        val sum = value + money.value
        return Money(sum)
    }

    //å®ç°è¿ç®—ç¬¦é‡è½½ Money + Int
    operator fun plus(money: Int): Money{
        val sum = value + money
        return Money(sum)
    }
}

fun main() {
    val money1 = Money(15)
    val money2 = Money(20)
    val money3 = money1 + money2
    val money4 = money3 + 15
    println(money3.value)
    print(money4.value)
}

//æ‰“å°ç»“æœ
35
50
```

## ä¹ã€é«˜é˜¶å‡½æ•°è¯¦è§£

é«˜é˜¶å‡½æ•°å’Œ Lambda è¡¨è¾¾å¼æ˜¯å¯†ä¸å¯åˆ†çš„ï¼Œåœ¨ä¹‹å‰çš„ç« èŠ‚ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸€äº› å‡½æ•°å¼ Api çš„ç”¨æ³•ï¼Œä½ ä¼šå‘ç°ï¼Œå®ƒä»¬éƒ½ä¼šæœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼šéœ€è¦ä¼ å…¥ä¸€ä¸ª Lambda è¡¨è¾¾å¼ä½œä¸ºå‚æ•°ã€‚åƒè¿™ç§æ¥æ”¶ Lambda è¡¨è¾¾å¼çš„å‡½æ•°æˆ‘ä»¬å°±å¯ä»¥ç§°ä¹‹ä¸ºå…·æœ‰å‡½æ•°å¼ç¼–ç¨‹é£æ ¼çš„ Apiï¼Œè€Œå¦‚æœä½ è¦å®šä¹‰è‡ªå·±çš„å‡½æ•°å¼ Apiï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨é«˜é˜¶å‡½æ•°æ¥å®ç°äº†

### 1ã€å®šä¹‰é«˜é˜¶å‡½æ•°

1ï¼‰é«˜é˜¶å‡½æ•°çš„å®šä¹‰ï¼šä¸€ä¸ªå‡½æ•°æ¥æ”¶å¦å¤–ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæˆ–è€…è¿”å›å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°

Kotlin ä¸­æ–°å¢äº†å‡½æ•°ç±»å‹ï¼Œå¦‚æœæˆ‘ä»¬å°†è¿™ç§å‡½æ•°ç±»å‹æ·»åŠ åˆ°ä¸€ä¸ªå‡½æ•°çš„å‚æ•°å£°æ˜æˆ–è€…è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°

2ï¼‰å‡½æ•°ç±»å‹çš„è¯­æ³•è§„åˆ™å¦‚ä¸‹

```kotlin
(String,Int) -> Unit
//æˆ–è€…å¦‚ä¸‹
() -> Unit
```

-> çš„å·¦è¾¹å£°æ˜å‡½æ•°æ¥æ”¶ä»€ä¹ˆç±»å‹çš„å‚æ•°ï¼Œ-> çš„å³è¾¹å£°æ˜çš„æ˜¯å‡½æ•°çš„è¿”å›å€¼ï¼Œç°åœ¨æˆ‘ä»¬æ¥å£°æ˜ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼š

```kotlin
fun example(func: (String,Int) -> Unit) {
    //do something
}
```

3ï¼‰é«˜é˜¶å‡½æ•°çš„è°ƒç”¨ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å‚æ•°ååé¢åŠ ä¸Šä¸€å¯¹æ‹¬å·ï¼Œä¼ å…¥å¯¹åº”ç±»å‹çš„å‚æ•°å³å¯ï¼Œä¾‹å¦‚ä»¥ä¸Šé¢å®šä¹‰çš„è¿™ä¸ªé«˜é˜¶å‡½æ•°ä¸ºä¾‹å­ï¼š

```kotlin
fun example(func: (String,Int) -> Unit) {
    //å‡½æ•°ç±»å‹è°ƒç”¨
    func("erdai",666)
}
```

ä¸‹é¢æˆ‘ä»¬å°±æ¥å®è·µä¸€ä¸‹ï¼š

```kotlin
//æˆ‘ä»¬ä½¿ç”¨é«˜é˜¶å‡½æ•°æ¥è·å–ä¸¤ä¸ªæ•°ç›¸åŠ çš„å’Œ
fun numberPlus(num1: Int,num2: Int,func: (Int,Int) -> Int): Int{
    val sum = func(num1,num2)
    return sum
}

fun plus(num1: Int,num2: Int): Int{
    return num1 + num2
}

fun minus(num1: Int,num2: Int): Int{
    return num1 - num2
}

//è°ƒç”¨é«˜é˜¶å‡½æ•°çš„ä¸¤ç§æ–¹å¼
//æ–¹å¼1ï¼šæˆå‘˜å¼•ç”¨ï¼Œä½¿ç”¨ ::plusï¼Œ::minusè¿™ç§å†™æ³•å¼•ç”¨ä¸€ä¸ªå‡½æ•°
fun main() {
    val numberPlus = numberPlus(10, 20, ::plus)
    val numberMinus = numberPlus(10, 20, ::minus)
    println(numberPlus)
    println(numberMinus)
}
//æ‰“å°ç»“æœ
30
-10

//æ–¹å¼2ï¼šä½¿ç”¨ Lambda è¡¨è¾¾å¼çš„å†™æ³•
fun main() {
    val numberPlus = numberPlus(10, 20){ num1,num2 ->
        num1 + num2
    }
    val numberMinus = numberPlus(10, 20){ num1,num2 ->
        num1 - num2
    }
    println(numberPlus)
    println(numberMinus)
}
//æ‰“å°ç»“æœ
30
-10
```

å…¶ä¸­ä½¿ç”¨ Lambda è¡¨è¾¾å¼çš„å†™æ³•æ˜¯é«˜é˜¶å‡½æ•°ä¸­æœ€æ™®éçš„è°ƒç”¨æ–¹å¼

### 2ã€å†…è”å‡½æ•°çš„ä½œç”¨

1ï¼‰å†…è”å‡½æ•°å¯ä»¥æ¶ˆé™¤ Lambda è¡¨è¾¾å¼è¿è¡Œæ—¶å¸¦æ¥çš„å¼€é”€

Kotlin ä»£ç æœ€ç»ˆè¿˜æ˜¯ä¼šè½¬æ¢æˆ Java å­—èŠ‚ç æ–‡ä»¶ï¼Œä¸¾ä¸ªğŸŒ°ï¼š

```kotlin
fun numberPlus(num1: Int,num2: Int,func: (Int,Int) -> Int): Int{
    val sum = func(num1,num2)
    return sum
}

fun main() {
  	val num1 = 10
  	val num2 = 20
    val numberPlus = numberPlus(num1, num2){ num1,num2 ->
        num1 + num2
    }
}

//ä¸Šé¢è¿™äº›ä»£ç æœ€ç»ˆè½¬æ¢æˆ Java ä»£ç å¤§æ¦‚ä¼šå˜æˆè¿™æ ·ï¼š
public static int numberPlus(int num1, int num2, Function operation){
  	int sum = (int) operation.invoke(num1,num2);
  	return sum;
}

public static void main(){
  	int num1 = 10;
  	int num2 = 20;
  	int sum = numberPlus(num1,num2,new Function(){
      	@Override
      	public Integer invoke(Integer num1,Integer num2){
          	return num1 + num2;
        }
    });
}
```

å¯ä»¥çœ‹åˆ°ï¼Œè½¬æ¢ä¹‹åï¼ŒnumberPlus å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°å˜æˆäº†ä¸€ä¸ª Function æ¥å£ï¼Œè¿™æ˜¯ä¸€ç§ Kotlin çš„å†…ç½®æ¥å£ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªå¾…å®ç°çš„ invoke å‡½æ•°ï¼Œè€Œ numberPlus å‡½æ•°å…¶å®å°±æ˜¯è°ƒç”¨äº† Function æ¥å£çš„ invoke å‡½æ•°ï¼Œå¹¶æŠŠ num1 å’Œ num2 ä¼ äº†è¿›å»ã€‚ä¹‹å‰çš„ Lambda è¡¨è¾¾å¼åœ¨è¿™é‡Œå˜æˆäº† Function æ¥å£çš„åŒ¿åç±»å®ç°ï¼Œè¿™å°±æ˜¯ Lambda è¡¨è¾¾å¼çš„åº•å±‚è½¬æ¢é€»è¾‘ï¼Œå› æ­¤æˆ‘ä»¬æ¯è°ƒç”¨ä¸€æ¬¡ Lambda è¡¨è¾¾å¼ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„åŒ¿åç±»å®ä¾‹ï¼Œè¿™æ ·å°±ä¼šé€ æˆé¢å¤–çš„å†…å­˜å’Œæ€§èƒ½å¼€é”€ã€‚ä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨å†…è”å‡½æ•°ï¼Œå°±å¯ä»¥å¾ˆå¥½çš„å»è§£å†³è¿™ä¸ªé—®é¢˜

2ï¼‰å®šä¹‰é«˜é˜¶å‡½æ•°æ—¶åŠ ä¸Š inline å…³é”®å­—ä¿®é¥°ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™ä¸ªå‡½æ•°ç§°ä¹‹ä¸ºå†…è”å‡½æ•°

```kotlin
//å®šä¹‰ä¸€ä¸ªå†…è”å‡½æ•°
inline fun numberPlus(num1: Int,num2: Int,func: (Int,Int) -> Int): Int{
    val sum = func(num1,num2)
    return sum
}
```

**é‚£è¿™é‡Œæˆ‘å°±ä¼šæœ‰ä¸ªç–‘é—®ï¼Œä¸ºå•¥å†…è”å‡½æ•°èƒ½æ¶ˆé™¤ Lambda è¡¨è¾¾å¼è¿è¡Œæ—¶å¸¦æ¥çš„å¼€é”€å‘¢ï¼Ÿ**

è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦å»å‰–æä¸€ä¸‹å†…è”å‡½æ•°çš„å·¥ä½œåŸç†äº†ï¼Œå¦‚ä¸‹ï¼š

```kotlin
inline fun numberPlus(num1: Int,num2: Int,func: (Int,Int) -> Int): Int{
    val sum = func(num1,num2)
    return sum
}

fun main() {
    val num1 = 10
    val num2 = 20
    val numberPlus = numberPlus(num1, num2){ num1,num2 ->
        num1 + num2
    }
}
```

**ç¬¬ä¸€æ­¥æ›¿æ¢è¿‡ç¨‹ï¼šKotlin ç¼–è¯‘å™¨ä¼šæŠŠ Lambda è¡¨è¾¾å¼ä¸­çš„ä»£ç æ›¿æ¢åˆ°å‡½æ•°ç±»å‹å‚æ•°è°ƒç”¨çš„åœ°æ–¹** ï¼Œå¦‚ä¸‹å›¾ï¼š

![image-20210318103738396](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d72c3b1f9004f1f8fbea4f3f8353a3b~tplv-k3u1fbpfcp-zoom-1.image)

æ›¿æ¢åä»£ç å˜æˆäº†è¿™æ ·ï¼š

```kotlin
inline fun numberPlus(num1: Int,num2: Int,func: (Int,Int) -> Int): Int{
    val sum = num1 + num2
    return sum
}

fun main() {
    val num1 = 10
    val num2 = 20
    val numberPlus = numberPlus(num1, num2);
}
```

**ç¬¬äºŒæ­¥æ›¿æ¢è¿‡ç¨‹ï¼šKotlin ç¼–è¯‘å™¨ä¼šæŠŠå†…è”å‡½æ•°ä¸­çš„å…¨éƒ¨ä»£ç æ›¿æ¢åˆ°å‡½æ•°è°ƒç”¨çš„åœ°æ–¹** ï¼Œå¦‚ä¸‹å›¾ï¼š

![image-20210318104214303](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ed6033ee5354e8e8752ac4255fbb2ce~tplv-k3u1fbpfcp-zoom-1.image)

æ›¿æ¢åä»£ç å˜æˆäº†è¿™æ ·ï¼š

```kotlin
fun main() {
    val num1 = 10
    val num2 = 20
    val numberPlus = num1 + num2
}
```

ä¸Šè¿°æ­¥éª¤å°±æ˜¯å†…è”å‡½æ•°çš„ä¸€ä¸ªå·¥ä½œæµç¨‹ï¼š**Kotlin ç¼–è¯‘å™¨ä¼šæŠŠå†…è”å‡½æ•°ä¸­çš„ä»£ç åœ¨ç¼–è¯‘çš„æ—¶å€™è‡ªåŠ¨æ›¿æ¢åˆ°è°ƒç”¨å®ƒçš„åœ°æ–¹** ï¼Œè¿™æ ·ä¹Ÿå°±ä¸å­˜åœ¨è¿è¡Œæ—¶çš„å¼€é”€äº†

3ï¼‰ä½¿ç”¨ noinline å…³é”®å­—ä¿®é¥°çš„å‡½æ•°ç±»å‹å‚æ•°ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°ç±»å‹å‚æ•°ä¸éœ€è¦è¿›è¡Œå†…è”

ä¸€èˆ¬ä½¿ç”¨ noinline å…³é”®å­—ï¼Œæ˜¯åœ¨ä¸€ä¸ªå†…è”å‡½æ•°ä¸­å­˜åœ¨å¤šä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°

```kotlin
//ä½¿ç”¨å†…è”å‡½æ•°å®šä¹‰çš„é«˜é˜¶å‡½æ•°ï¼Œå…¶é‡Œé¢çš„å‡½æ•°ç±»å‹å‚æ•°éƒ½ä¼šè¿›è¡Œå†…è”ï¼Œå› æ­¤è¿™é‡Œä½¿ç”¨ noinline è¡¨ç¤ºæˆ‘è¿™ä¸ªå‡½æ•°ç±»å‹å‚æ•°ä¸éœ€è¦å†…è”
inline fun inlineTest(block1: () -> Unit, noinline block2: () -> Unit){
  
}
```

å‰é¢æˆ‘ä»¬è®²åˆ°ï¼Œä½¿ç”¨å†…è”å‡½æ•°èƒ½å‡å°‘è¿è¡Œæ—¶å¼€é”€ï¼Œä¸ºå•¥ç°åœ¨åˆè¦å‡ºæ¥ä¸ª noinline å…³é”®å­—å®šä¹‰ä¸éœ€è¦å†…è”å‘¢ï¼ŸåŸå› å¦‚ä¸‹ï¼š

1ã€å†…è”å‡½æ•°åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šè¿›è¡Œä»£ç æ›¿æ¢ï¼Œå› æ­¤å®ƒæ²¡æœ‰çœŸæ­£çš„å‚æ•°å±æ€§ï¼Œå®ƒçš„å‡½æ•°ç±»å‹å‚æ•°åªèƒ½ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå†…è”å‡½æ•°ï¼Œè€Œéå†…è”å‡½æ•°çš„å‡½æ•°ç±»å‹å‚æ•°å¯ä»¥è‡ªç”±çš„ä¼ é€’ç»™å…¶ä»–ä»»ä½•å‡½æ•°

2ã€å†…è”å‡½æ•°æ‰€å¼•ç”¨çš„ Lambda è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨ return å…³é”®å­—æ¥è¿›è¡Œå‡½æ•°è¿”å›ï¼Œéå†…è”å‡½æ•°æ‰€å¼•ç”¨çš„ Lambda è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨ return@Method è¯­æ³•ç»“æ„æ¥è¿›è¡Œå±€éƒ¨è¿”å›

```kotlin
//æƒ…å†µ1ï¼šéå†…è”å‡½æ•°æ‰€å¼•ç”¨çš„ Lambda è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨ return å…³é”®å­—æ¥è¿›è¡Œå±€éƒ¨è¿”å›
//å®šä¹‰ä¸€ä¸ªéå†…è”çš„é«˜é˜¶å‡½æ•°
fun printString(str: String, block: (String) -> Unit){
    println("printString start...")
    block(str)
    println("printString end...")
}

fun main() {
    println("main start...")
    val str = ""
    printString(str){
        println("lambda start...")
      	/**
         * 1ï¼Œéå†…è”å‡½æ•°ä¸èƒ½ç›´æ¥ä½¿ç”¨ return å…³é”®å­—è¿›è¡Œå±€éƒ¨è¿”å›
	 * 2ï¼Œéœ€è¦ä½¿ç”¨ return@printString è¿›è¡Œå±€éƒ¨è¿”å›
         */
        if (str.isEmpty())return@printString
        println(it)
        println("lambda end...")
    }
    println("main end...")
}
//æ‰“å°ç»“æœ
main start...
printString start...
lambda start...
printString end...
main end...

//æƒ…å†µ2ï¼šå†…è”å‡½æ•°æ‰€å¼•ç”¨çš„ Lambda è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨ return å…³é”®å­—æ¥è¿›è¡Œå‡½æ•°è¿”å›
//å®šä¹‰ä¸€ä¸ªéå†…è”çš„é«˜é˜¶å‡½æ•°
inline fun printString(str: String, block: (String) -> Unit){
    println("printString start...")
    block(str)
    println("printString end...")
}

fun main() {
    println("main start...")
    val str = ""
    printString(str){
        println("lambda start...")
        if (str.isEmpty())return
        println(it)
        println("lambda end...")
    }
    println("main end...")
}
//å› ä¸ºå†…è”å‡½æ•°ä¼šè¿›è¡Œä»£ç æ›¿æ¢ï¼Œå› æ­¤è¿™ä¸ª return å°±ç›¸å½“äºå¤–å±‚å‡½æ•°è°ƒç”¨çš„ä¸€ä¸ªè¿”å›ï¼Œå¦‚ä¸‹ä»£ç ï¼š
fun main() {
    println("main start...")
    val str = ""
    println("printString start...")
    println("lambda start...")
    if (str.isEmpty())return
    println(str)
    println("lambda end...")
    println("printString end...")
    println("main end...")
}

//æ‰“å°ç»“æœ
main start...
printString start...
lambda start...
```

4ï¼‰ã€ä½¿ç”¨ crossinline å…³é”®å­—ä¿è¯å†…è”å‡½æ•°çš„ Lambda è¡¨è¾¾å¼ä¸­ä¸€å®šä¸ä¼šä½¿ç”¨ return å…³é”®å­—ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥ä½¿ç”¨ return@Method è¯­æ³•ç»“æ„è¿›è¡Œå±€éƒ¨è¿”å›ï¼Œå…¶ä»–æ–¹é¢å’Œå†…è”å‡½æ•°ç‰¹æ€§ä¸€è‡´

ä¸¾ä¸ªä½¿ç”¨ crossinline åœºæ™¯çš„ğŸŒ° ï¼š

![image-20210318115342264](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7c7beec9bdbb4e789d1814381accc36f~tplv-k3u1fbpfcp-zoom-1.image)

ä¸Šé¢å›¾ç‰‡ä¸­çš„ä»£ç æŠ¥é”™äº†ï¼Œç¼–è¯‘å™¨æç¤ºæˆ‘ä»¬çš„å¤§è‡´åŸå› æ˜¯ï¼šè¿™ä¸ªåœ°æ–¹ä¸èƒ½ä½¿ç”¨ inline ,å› ä¸ºå®ƒå¯èƒ½åŒ…å«éå±€éƒ¨çš„ return è¿”å›ï¼Œæ·»åŠ  crossinline ä¿®é¥°ç¬¦å»ä¿®é¥°è¿™ä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°ã€‚

ä¸ºå•¥å‘¢ï¼Ÿæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ï¼š

æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Runnable å¯¹è±¡ï¼Œåœ¨ Runnable ä¸­çš„ Lambda è¡¨è¾¾å¼ä¸­è°ƒç”¨äº†å‡½æ•°ç±»å‹å‚æ•°ï¼ŒLambda è¡¨è¾¾å¼åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šè¢«è½¬æ¢æˆåŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼ï¼Œå†…è”å‡½æ•°å…è®¸æˆ‘ä»¬åœ¨ Lambda è¡¨è¾¾å¼ä¸­ä½¿ç”¨ return å…³é”®å­—è¿›è¡Œå‡½æ•°è¿”å›ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯åœ¨åŒ¿åç±»ä¸­è°ƒç”¨çš„å‡½æ•°ç±»å‹å‚æ•°ï¼Œæ­¤æ—¶æ˜¯ä¸å¯èƒ½è¿›è¡Œå¤–å±‚è°ƒç”¨å‡½æ•°è¿”å›çš„ï¼Œæœ€å¤šæ˜¯åœ¨åŒ¿åå‡½æ•°ä¸­è¿›è¡Œè¿”å›ï¼Œå› æ­¤è¿™é‡Œå°±æç¤ºäº†é”™è¯¯ï¼ŒçŸ¥é“äº†åŸå› é‚£æˆ‘ä»¬ä½¿ç”¨ crossinline å…³é”®å­—æ¥ä¿®æ”¹ä¸€ä¸‹

```kotlin
inline fun runRunnable(crossinline block: () -> Unit) {
    println("runRunnable start...")
    val runnable = Runnable {
        block()
    }
    runnable.run()
    println("runRunnable end...")
}


fun main() {
    println("main start...")
    runRunnable {
        println("lambda start...")
        return@runRunnable
        println("lambda end...")
    }
    println("main end...")
}
//æ‰“å°ç»“æœ
main start...
runRunnable start...
lambda start...
runRunnable end...
main end...
```

## åã€æ³›å‹å’Œå§”æ‰˜

### 1ã€æ³›å‹çš„åŸºæœ¬ç”¨æ³•

1ï¼‰ã€é¦–å…ˆæˆ‘ä»¬è§£é‡Šä¸‹ä»€ä¹ˆæ˜¯æ³›å‹ï¼Œæ³›å‹å°±æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ä¸æŒ‡å®šå…·ä½“ç±»å‹çš„æƒ…å†µä¸‹è¿›è¡Œç¼–ç¨‹ã€‚æˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªç±»ï¼Œæ–¹æ³•ï¼Œæˆ–è€…æ¥å£çš„æ—¶å€™ï¼Œç»™ä»–ä»¬åŠ ä¸Šä¸€ä¸ªç±»å‹å‚æ•°ï¼Œå°±æ˜¯ä¸ºè¿™ä¸ªç±»ï¼Œæ–¹æ³•ï¼Œæˆ–è€…æ¥å£æ·»åŠ äº†ä¸€ä¸ªæ³›å‹

```kotlin
//1ã€å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»ï¼Œåœ¨ç±»ååé¢ä½¿ç”¨ <T> è¿™ç§è¯­æ³•ç»“æ„å°±æ˜¯ä¸ºè¿™ä¸ªç±»å®šä¹‰ä¸€ä¸ªæ³›å‹
class MyClass<T>{
  	fun method(params: T) {
      
    }
}
//æ³›å‹è°ƒç”¨
val myClass = MyClass<Int>()
myClass.method(12)

//2ã€å®šä¹‰ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œåœ¨æ–¹æ³•åçš„å‰é¢åŠ ä¸Š <T> è¿™ç§è¯­æ³•ç»“æ„å°±æ˜¯ä¸ºè¿™ä¸ªæ–¹æ³•å®šä¹‰ä¸€ä¸ªæ³›å‹
class MyClass{
    fun <T> method(params: T){

    }
}
//æ³›å‹è°ƒç”¨
val myClass = MyClass()
myClass.method<Int>(12)
//æ ¹æ® Kotlin ç±»å‹æ¨å¯¼æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ³›å‹ç»™çœç•¥
myClass.method(12)

//3ã€å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£ï¼Œåœ¨æ¥å£ååé¢åŠ ä¸Š <T> è¿™ç§è¯­æ³•ç»“æ„å°±æ˜¯ä¸ºè¿™ä¸ªæ¥å£å®šä¹‰ä¸€ä¸ªæ³›å‹
interface MyInterface<T>{
    fun interfaceMethod(params: T)
}
```

ä¸Šé¢çš„ T ä¸æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥æ˜¯ä»»æ„å•è¯å’Œå­—æ¯ï¼Œä½†æ˜¯å®šä¹‰çš„æ³›å‹å°½é‡åšåˆ°è§åçŸ¥ä¹‰

2ï¼‰ã€ä¸ºæ³›å‹æŒ‡å®šä¸Šç•Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `<T : Class>` è¿™ç§è¯­æ³•ç»“æ„ï¼Œå¦‚æœä¸æŒ‡å®šæ³›å‹çš„ä¸Šç•Œï¼Œé»˜è®¤ä¸º Any? ç±»å‹

```kotlin
class MyClass{
  	//æˆ‘ä»¬æŒ‡å®šäº†æ³›å‹çš„ä¸Šç•Œä¸º Number, é‚£ä¹ˆæˆ‘ä»¬å°±åªèƒ½ä¼ å…¥æ•°å­—ç±»å‹çš„å‚æ•°äº†
  	fun <T : Number> method(params: T) {
      
    }
}
```

### 2ã€ç±»å§”æ‰˜å’Œå§”æ‰˜å±æ€§

å§”æ‰˜æ¨¡å¼çš„æ„ä¹‰ï¼š**åœ¨äºæˆ‘ä»¬å¤§éƒ¨åˆ†æ–¹æ³•å®ç°å¯ä»¥è°ƒç”¨è¾…åŠ©å¯¹è±¡å»å®ç°ï¼Œå°‘éƒ¨åˆ†æ–¹æ³•çš„å®ç°ç”±è‡ªå·±æ¥é‡å†™ï¼Œç”šè‡³åŠ å…¥ä¸€äº›è‡ªå·±ç‹¬æœ‰çš„æ–¹æ³•ï¼Œä½¿æˆ‘ä»¬è¿™ä¸ªç±»å˜æˆä¸€ä¸ªå…¨æ–°æ•°æ®ç»“æ„çš„ç±»**

1ï¼‰ã€ç±»å§”æ‰˜æ ¸å¿ƒæ€æƒ³å°±æ˜¯æŠŠä¸€ä¸ªç±»çš„å…·ä½“å®ç°å§”æ‰˜ç»™å¦å¤–ä¸€ä¸ªç±»ï¼Œä½¿ç”¨ by å…³é”®å­—è¿›è¡Œå§”æ‰˜

```kotlin
//å®šä¹‰ä¸€ä¸ª MySet ç±»ï¼Œå®ƒé‡Œé¢çš„å…·ä½“å®ç°éƒ½å§”æ‰˜ç»™äº† HashSet è¿™ä¸ªç±»ï¼Œè¿™æ˜¯æ˜¯ç±»å§”æ‰˜
class MySet<T>(val helperSet: HashSet<T>) : Set<T>{

    override val size: Int get() = helperSet.size

    override fun contains(element: T) = helperSet.contains(element)

    override fun containsAll(elements: Collection<T>) = helperSet.containsAll(elements)

    override fun isEmpty() = helperSet.isEmpty()

    override fun iterator() = helperSet.iterator()
}

/**
 * å¦‚æœæˆ‘ä»¬ä½¿ç”¨ by å…³é”®å­—ï¼Œä¸Šé¢çš„ä»£ç å°†ä¼šå˜å¾—éå¸¸æ•´æ´ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥å¯¹æŸä¸ªæ–¹æ³•è¿›è¡Œé‡å†™æˆ–è€…æ–°å¢æ–¹æ³•
 * é‚£ä¹ˆ MySet å°±å˜æˆäº†ä¸€ä¸ªå…¨æ–°çš„æ•°æ®ç»“æ„ç±»
 */
class MySet<T>(val helperSet: HashSet<T>) : Set<T> by helperSet{
     fun helloWord(){
        println("Hello World")
    }
    
    override fun isEmpty() = false
}
```

2ï¼‰ã€å±æ€§å§”æ‰˜çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ä¸€ä¸ªå±æ€§çš„å…·ä½“å®ç°å§”æ‰˜ç»™å¦ä¸€ä¸ªç±»å»å®Œæˆ

å±æ€§å§”æ‰˜çš„è¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š

```kotlin
/**
* ä½¿ç”¨ by å…³é”®å­—è¿æ¥äº†å·¦è¾¹çš„ p å±æ€§å’Œå³è¾¹çš„ Delegate å®ä¾‹
* è¿™ç§å†™æ³•å°±ä»£è¡¨ç€å°† p å±æ€§çš„å…·ä½“å®ç°å§”æ‰˜ç»™äº† Delegate å»å®Œæˆ
*/
class MyClass{

   var p by Delegate()
}

/**
* ä¸‹é¢æ˜¯ä¸€ä¸ªè¢«å§”æ‰˜ç±»çš„ä»£ç å®ç°æ¨¡ç‰ˆ
* ä¸€ã€getValue æ–¹æ³•å’ŒsetValue æ–¹æ³•å¿…é¡»ä½¿ç”¨ operator å…³é”®å­—ä¿®é¥°
* 
* äºŒã€getValue æ–¹æ³•ä¸»è¦æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š
* 1ã€ç¬¬ä¸€ä¸ªå‚æ•°è¡¨æ˜ Delegate ç±»çš„å§”æ‰˜åŠŸèƒ½å¯ä»¥åœ¨ä»€ä¹ˆç±»ä¸­ä½¿ç”¨
* 2ã€ç¬¬äºŒä¸ªå‚æ•° KProperty<*> æ˜¯ Kotlin ä¸­çš„ä¸€ä¸ªå±æ€§æ“ä½œç±»ï¼Œ
*    å¯ç”¨äºè·å–å„ç§å±æ€§çš„ç›¸å…³å€¼ï¼Œ<*>è¿™ç§æ³›å‹çš„å†™æ³•ç±»ä¼¼ Java çš„
*    <?>ï¼Œè¡¨ç¤ºæˆ‘ä¸å…³å¿ƒæ³›å‹çš„å…·ä½“ç±»å‹
*
* ä¸‰ã€setValue æ–¹æ³•ä¹Ÿæ˜¯ç›¸ä¼¼çš„ï¼Œæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š
* 1ã€å‰é¢ä¸¤ä¸ªå‚æ•°å’Œ getValue æ˜¯ä¸€æ ·çš„
* 2ã€ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºå…·ä½“è¦èµ‹å€¼ç»™å§”æ‰˜å±æ€§çš„å€¼ï¼Œè¿™ä¸ªå‚æ•°çš„ç±»å‹å¿…é¡»å’Œ
*    getValue æ–¹æ³•è¿”å›å€¼çš„ç±»å‹ä¿æŒä¸€è‡´
*
*
* ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼šç”¨ val å®šä¹‰çš„å˜é‡ä¸éœ€è¦å®ç° setValue æ–¹æ³•ï¼Œå› ä¸º val
*             å…³é”®å­—å£°æ˜çš„å±æ€§åªå¯è¯»ï¼Œèµ‹å€¼ä¹‹åå°±ä¸èƒ½æ›´æ”¹äº†
*/
class Delegate{
   
   var propValue: Any? = null

   operator fun getValue(any: Any?,prop: KProperty<*>): Any?{
       return propValue
   }

   operator fun setValue(any: Any?,prop: KProperty<*>,value: Any?){
       propValue = value
   }
}
```

## åä¸€ã€ä½¿ç”¨ infix å‡½æ•°æ„å»ºæ›´å¯è¯»çš„è¯­æ³•

infix å‡½æ•°è¯­æ³•ç»“æ„å¯è¯»æ€§é«˜ï¼Œç›¸æ¯”äºè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ›´æ¥è¿‘äºä½¿ç”¨è‹±è¯­ A to B è¿™æ ·çš„è¯­æ³•ç»“æ„

ä¾‹å¦‚æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¼šä½¿ç”¨ï¼š A.to(B) è¿™ç§ç»“æ„ï¼Œä½†æ˜¯ä½¿ç”¨ infix å‡½æ•°æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ï¼šA to Bï¼Œè¿™ç§è¯­æ³•æˆ‘ä»¬åœ¨è®² Map çš„æ—¶å€™ç”¨è¿‡

```kotlin
//å®šä¹‰ä¸€ä¸ªä¸å¯å˜ Map é›†åˆ
val map1 = mapOf("Apple" to 1,"Banana" to 2,"Orange" to 3, "Pear" to 4,"Grape" to 5)
```

1ï¼‰ã€åœ¨å‡½æ•°å‰é¢åŠ ä¸Š infix å…³é”®å­—ï¼Œå°±å¯ä»¥å£°æ˜è¿™æ˜¯ä¸€ä¸ª infix å‡½æ•°

```kotlin
//å¯¹ String å¢åŠ ä¸€ä¸ªæ‰©å±•çš„ infix å‡½æ•°ï¼Œæœ€ç»ˆè°ƒç”¨çš„è¿˜æ˜¯ String çš„ startsWith å‡½æ•°
infix fun String.beginWith(string: String) = startsWith(string)

fun main() {
    val name = "erdai"
    println(name beginWith "er")
}
//æ‰“å°ç»“æœ
true
```

æˆ‘ä»¬å†æ¥å®ç°ä¸€ä¸ªåˆå§‹åŒ– Map æ—¶é‡Œé¢ä¼ å…¥ A to B è¿™ç§ infix å‡½æ•°

```kotlin
//è¿™æ˜¯ A to B çš„æºç å®ç°
public infix fun <A, B> A.to(that: B): Pair<A, B> = Pair(this, that)

//æˆ‘ä»¬ä»¿ç…§å®ƒå†™ä¸€ä¸ª
public infix fun <A,B> A.with(that: B): Pair<A,B> = Pair(this,that)

fun main() {
    val map = mapOf("Apple" with 1,"Banana" with 2,"Orange" with 3,"Pear" with 4,"Grape" with 5)
}
```

## åäºŒã€ä½¿ç”¨ DSL æ„å»ºä¸“æœ‰çš„è¯­æ³•ç»“æ„

1ï¼‰ã€DSL ä»‹ç»

DSLè‹±æ–‡å…¨ç§°ï¼š**domain specific language**ï¼Œä¸­æ–‡ç¿»è¯‘å³é¢†åŸŸç‰¹å®šè¯­è¨€ï¼Œä¾‹å¦‚ï¼šHTMLï¼ŒXMLç­‰ DSL è¯­è¨€

**ç‰¹ç‚¹**

- è§£å†³ç‰¹å®šé¢†åŸŸçš„ä¸“æœ‰é—®é¢˜
- å®ƒä¸ç³»ç»Ÿç¼–ç¨‹è¯­è¨€èµ°çš„æ˜¯ä¸¤ä¸ªæç«¯ï¼Œç³»ç»Ÿç¼–ç¨‹è¯­è¨€æ˜¯å¸Œæœ›è§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼Œæ¯”å¦‚ Java è¯­è¨€å¸Œæœ›èƒ½åš Android å¼€å‘ï¼Œåˆå¸Œæœ›èƒ½åšåå°å¼€å‘ï¼Œå®ƒå…·æœ‰æ¨ªå‘æ‰©å±•çš„ç‰¹æ€§ã€‚è€Œ DSL å…·æœ‰çºµå‘æ·±å…¥è§£å†³ç‰¹å®šé¢†åŸŸä¸“æœ‰é—®é¢˜çš„ç‰¹æ€§ã€‚

æ€»çš„æ¥è¯´ï¼ŒDSL çš„**æ ¸å¿ƒæ€æƒ³**å°±æ˜¯ï¼šâ€œæ±‚ä¸“ä¸æ±‚å…¨ï¼Œè§£å†³ç‰¹å®šé¢†åŸŸçš„é—®é¢˜â€ã€‚

2ï¼‰Kotin DSL

é¦–å…ˆä»‹ç»ä¸€ä¸‹Gradleï¼šGradle æ˜¯ä¸€ä¸ªå¼€æºçš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œæ˜¯ä¸€ç§åŸºäº Groovy æˆ– Kotin çš„ DSLã€‚æˆ‘ä»¬çš„ Android åº”ç”¨å°±æ˜¯ä½¿ç”¨ Gradle æ„å»ºçš„ï¼Œå› æ­¤åç»­å†™è„šæœ¬ï¼Œå†™æ’ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Kotlin å»ç¼–å†™ï¼Œè€Œä¸” AndroidStudio å¯¹ Kotlin çš„æ”¯æŒå¾ˆå‹å¥½ï¼Œå„ç§æç¤ºï¼Œå†™èµ·æ¥å¾ˆçˆ½ã€‚

å¯¹äºæˆ‘ä»¬ Android å¼€å‘ï¼Œåœ¨ build.gradle æ–‡ä»¶é‡Œé¢æ·»åŠ ä¾èµ–çš„æ–¹å¼å¾ˆå¸¸è§ï¼š

```kotlin
dependencies {
    implementation 'androidx.core:core-ktx:1.3.2'
    implementation 'androidx.appcompat:appcompat:1.2.0'
}
```

ä¸Šé¢è¿™ç§å†™æ³•æ˜¯ä¸€ç§åŸºäº Groovy çš„ DSLï¼Œä¸‹é¢æˆ‘ä»¬å°±ä½¿ç”¨ Kotlin æ¥å®ç°ä¸€ä¸ªç±»ä¼¼çš„ DSLï¼š

```kotlin
class Dependency {

    fun implementation(lib: String){

    }
}

fun dependencies(block: Dependency.() -> Unit){
    val dependency = Dependency()
    dependency.block()
}

fun main() {
    //å› ä¸º Groovy å’Œ Kotlin è¯­æ³•ä¸åŒï¼Œå› æ­¤å†™æ³•ä¼šæœ‰ä¸€ç‚¹åŒºåˆ«
    dependencies {
        implementation ("androidx.core:core-ktx:1.3.2")
        implementation ("androidx.appcompat:appcompat:1.2.0")
    }
}
```

## åä¸‰ã€Java ä¸ Kotlin ä»£ç ä¹‹é—´çš„è½¬æ¢

### Java ä»£ç è½¬ Kotlin ä»£ç 

æ–¹å¼æœ‰2ï¼š

1ï¼‰ã€ç›´æ¥å°† Java ä»£ç å¤åˆ¶åˆ° Kotlin æ–‡ä»¶ä¸­ï¼ŒAndroidStudio ä¼šå‡ºæ¥æç¤ºæ¡†è¯¢é—®ä½ æ˜¯å¦è½¬æ¢

2ï¼‰ã€æ‰“å¼€è¦è½¬æ¢çš„ Java æ–‡ä»¶ï¼Œåœ¨å¯¼èˆªæ ç‚¹å‡» Code -> Convert Java File to Kotlin File

### Kotlin ä»£ç è½¬ Java ä»£ç 

æ‰“å¼€å½“å‰éœ€è¦è½¬æ¢çš„ Kotlin æ–‡ä»¶ï¼Œåœ¨å¯¼èˆªæ ç‚¹å‡» Tools -> Kotlin ->Show Kotlin Bytecode ï¼Œä¼šå‡ºæ¥å¦‚ä¸‹ç•Œé¢ï¼š

![image-20210318152946177](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c0008a17b27f4c8990ad726501654dbd~tplv-k3u1fbpfcp-zoom-1.image)

ç‚¹å‡» Decompile å°±å¯ä»¥æŠŠ Kotlin å­—èŠ‚ç æ–‡ä»¶åç¼–è¯‘æˆ Java ä»£ç äº†

## åå››ã€æ€»ç»“

æœ¬ç¯‡æ–‡ç« å¾ˆé•¿ï¼Œæˆ‘ä»¬ä»‹ç»äº† Kotlin å¤§éƒ¨åˆ†çŸ¥è¯†ç‚¹ï¼ŒæŒ‰ç…§æ–‡ç« å¼€å¤´çš„æ€ç»´å¯¼å›¾ï¼Œæˆ‘ä»¬å°±åªå‰©ä¸‹ Kotlin æ³›å‹é«˜çº§ç‰¹æ€§å’Œ Kotlin æºç¨‹æ²¡æœ‰è®²äº†ï¼Œè¿™ä¸¤éƒ¨åˆ†ç›¸å¯¹æ¥è¯´æ¯”è¾ƒéš¾ï¼Œå’‹ä»¬åç»­åœ¨æ¥ä»”ç»†åˆ†æã€‚ç›¸ä¿¡ä½ å¦‚æœä»å¤´çœ‹åˆ°è¿™é‡Œï¼Œæ”¶è·ä¸€å®šå¾ˆå¤šï¼Œå¦‚æœè§‰å¾—æˆ‘å†™å¾—è¿˜ä¸é”™ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ¤

è½¬å‘ï¼šhttps://juejin.cn/post/6942251919662383134

